<?xml version="1.0" encoding="us-ascii"?>
<tree>
  <include file="AI/HeroMutator.aitree" />
  <mod id="87811D772E337EB7">
    <insertChild id="59A9E2D6C6D709CA" />
    <insertChild id="75A80F8584315D65" />
    <insertChild id="7D64C24E9AC83557" />
  </mod>
  <mod id="916CBDD167D00890">
    <removeChild id="CA5945DAE06FC014" />
    <insertChild id="1F850778EE27F719" before="" />
  </mod>
  <mod id="A4058AA255280C17">
    <insertChild id="48666891876A7179" />
    <insertChild id="B24F661406B932BC" />
  </mod>
  <mod id="F21BCB9B06948439">
    <insertChild id="3CB355BF33A946AF" />
  </mod>
  <node name="Skull Missile" type="AbilityUsable" id="48666891876A7179" comment="This Node is the start of the branch. It check that the ability is actually usable before doing any logic for it.">
    <property name="Ability" valueSource="literal" value="MephistoSkullMissile" />
    <insertChild id="CF04B8F7551C5D84" />
  </node>
  <node name="Base Node" type="And" id="CF04B8F7551C5D84" comment="This Node links targeting Logic, ability use and talent modifications">
    <variable name="AbilityRange" type="Number" valueSource="lookup" value="Effect,MephistoSkullMissileLaunchMissile,ImpactLocation.ProjectionDistanceScale" comment="Range of the Ability" />
    <variable name="AbilityTargetPoint" type="Point" comment="Target Point of the ability" />
    <variable name="AbilityMissileRadius" type="Number" value="1" comment="Width of the Ability Searches" />
    <variable name="AbilityMissilePierceCount" type="Number" comment="Number of Blockers this can go through" />
    <variable name="AbilityHighManaThreshHold" type="Number" value="0.75" comment="High Mana ThreshHold" />
    <variable name="AbilityLowManaThreshHold" type="Number" value="0.4" comment="Low Mana ThreshHold" />
    <variable name="AbilityDamage" type="Number" valueSource="lookup" value="Effect,MephistoSkullMissileDamage,Amount" />
    <insertChild id="46478F92B91C0FE5" />
    <insertChild id="53C0E9BC5C399633" />
    <insertChild id="460D7B5A9E4E12D9" />
  </node>
  <node name="Lower Mana Thresholds" type="Sequence" id="46478F92B91C0FE5">
    <property name="IgnoreChildFailures" valueSource="literal" value="true" />
    <insertChild id="5F574C3034E877D1" />
  </node>
  <node name="" type="And" id="5F574C3034E877D1">
    <insertChild id="CC67D3FC615B423A" />
    <insertChild id="3F35B47DC3ED155B" />
  </node>
  <node name="" type="Or" id="CC67D3FC615B423A">
    <insertChild id="9740B749EABC866F" />
  </node>
  <node name="Has Taken Quest" type="UnitHasTalent" id="9740B749EABC866F">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Talent" valueSource="literal" value="MephistoSkullMissileUnyieldingPower" />
    <insertChild id="C2923D9CE3CD7185" />
  </node>
  <node name="Quest Not Finished" type="Validator" id="C2923D9CE3CD7185">
    <property name="Validator" valueSource="literal" value="AlwaysReturnsFalse" />
    <property name="Target" valueSource="intrinsic" value="Self" />
  </node>
  <node name="High -&gt; .4" type="SetNumber" id="3F35B47DC3ED155B">
    <property name="Variable" value="AbilityHighManaThreshHold" />
    <property name="Value" valueSource="literal" value="0.4" />
    <insertChild id="5E780804335C6EC8" />
  </node>
  <node name="Low -&gt; .15" type="SetNumber" id="5E780804335C6EC8">
    <property name="Variable" value="AbilityLowManaThreshHold" />
    <property name="Value" valueSource="literal" value="0.15" />
  </node>
  <node name="" type="Or" id="53C0E9BC5C399633">
    <insertChild id="295FB00BDA23C2CB" />
    <insertChild id="4578A2F354192491" />
  </node>
  <node name="Elite" type="Difficulty" id="295FB00BDA23C2CB">
    <insertChild id="AF0038D8899827B5" />
  </node>
  <node name="" type="Or" id="AF0038D8899827B5">
    <insertChild id="1400A88CA3C7D3C1" />
    <insertChild id="0838297504348C6C" />
  </node>
  <node name="Debuffed" type="FilterBehaviorCategory" id="1400A88CA3C7D3C1">
    <property name="Categories" valueSource="literal" value="Stun,KnockedOut,DebuffRoot,Taunt" />
    <insertChild id="5D89F452DE6A9CF8" />
  </node>
  <node name="Not Sleeping" type="FilterBehaviorCategory" id="5D89F452DE6A9CF8">
    <property name="ExcludeCategories" valueSource="literal" value="Sleeping" />
    <insertChild id="8A4D5F040FB55CA9" />
  </node>
  <node name="Find 1 Hero" type="FindBestVector" id="8A4D5F040FB55CA9">
    <property name="TargetTypes" valueSource="literal" value="" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy,Heroic" />
    <property name="MissilePierceCount" valueSource="variable" value="AbilityMissilePierceCount" />
    <property name="MissileRadius" valueSource="variable" value="AbilityMissileRadius" />
    <property name="OutputEndPoint" value="AbilityTargetPoint" />
    <property name="MinTargets" valueSource="literal" value="1" />
    <property name="MaxVectorLength" valueSource="variable" value="AbilityRange" />
    <property name="TargetBlockingTypes" valueSource="literal" value="Structure" />
  </node>
  <node name="Fatal Damage" type="FilterLife" id="0838297504348C6C">
    <property name="MaxLife" valueSource="variable" value="AbilityDamage" />
    <insertChild id="204122889A8BE85C" />
  </node>
  <node name="Find 1 Hero" type="FindBestVector" id="204122889A8BE85C">
    <property name="TargetTypes" valueSource="literal" value="" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy,Heroic" />
    <property name="MissilePierceCount" valueSource="variable" value="AbilityMissilePierceCount" />
    <property name="MissileRadius" valueSource="variable" value="AbilityMissileRadius" />
    <property name="OutputEndPoint" value="AbilityTargetPoint" />
    <property name="MinTargets" valueSource="literal" value="1" />
    <property name="MaxVectorLength" valueSource="variable" value="AbilityRange" />
    <property name="TargetBlockingTypes" valueSource="literal" value="Structure" />
  </node>
  <node name="PvP/PvE" type="IfElse" id="4578A2F354192491">
    <insertChild id="E8C0F55349233AF1" />
    <insertChild id="65CC57AE46DF553D" />
    <insertChild id="29FCA40FCE2DE09B" />
  </node>
  <node name="Enemy Is Nearby" type="CompareNumber" id="E8C0F55349233AF1">
    <property name="LeftHandSide" valueSource="variable" value="Enemy Unit Count" />
    <property name="Comparison" valueSource="literal" value="GE" />
    <property name="RightHandSide" valueSource="literal" value="1" />
  </node>
  <node name="PVP Targeting Node" type="Or" id="65CC57AE46DF553D">
    <insertChild id="D8398BAE266FD7D2" />
    <insertChild id="1E47810DDA466B63" />
    <insertChild id="317F74E5F80BD555" />
  </node>
  <node name="&gt; High Mana" type="EnergyFraction" id="D8398BAE266FD7D2">
    <property name="EnergyFraction" valueSource="variable" value="AbilityHighManaThreshHold" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="01A96D6C6EFB0CCE" />
  </node>
  <node name="High Mana Targeting" type="Or" id="01A96D6C6EFB0CCE">
    <insertChild id="86D5838B15E1A4DC" />
  </node>
  <node name="Find 1 Hero" type="FindBestVector" id="86D5838B15E1A4DC">
    <property name="TargetTypes" valueSource="literal" value="" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy,Heroic" />
    <property name="MissilePierceCount" valueSource="variable" value="AbilityMissilePierceCount" />
    <property name="MissileRadius" valueSource="variable" value="AbilityMissileRadius" />
    <property name="OutputEndPoint" value="AbilityTargetPoint" />
    <property name="MinTargets" valueSource="literal" value="1" />
    <property name="MaxVectorLength" valueSource="variable" value="AbilityRange" />
    <property name="TargetBlockingTypes" valueSource="literal" value="" />
    <property name="LifeFractionFactor" valueSource="literal" value="0" />
  </node>
  <node name="&gt; Low Mana" type="EnergyFraction" id="1E47810DDA466B63">
    <property name="EnergyFraction" valueSource="variable" value="AbilityLowManaThreshHold" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="F547829E73342431" />
  </node>
  <node name="Medium Mana Targeting" type="Or" id="F547829E73342431">
    <insertChild id="41ED833A3D4CBEC3" />
    <insertChild id="29EF9198BB54C392" />
  </node>
  <node name="Find 1 Hero" type="FindBestVector" id="41ED833A3D4CBEC3">
    <property name="TargetTypes" valueSource="literal" value="" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy,Heroic" />
    <property name="MissilePierceCount" valueSource="variable" value="AbilityMissilePierceCount" />
    <property name="MissileRadius" valueSource="variable" value="AbilityMissileRadius" />
    <property name="OutputEndPoint" value="AbilityTargetPoint" />
    <property name="MinTargets" valueSource="literal" value="1" />
    <property name="MaxVectorLength" valueSource="variable" value="AbilityRange" />
    <property name="TargetBlockingTypes" valueSource="literal" value="" />
    <property name="LifeFractionFactor" valueSource="literal" value="0.85" />
  </node>
  <node name="Find 2 Heroes" type="FindBestVector" id="29EF9198BB54C392">
    <property name="TargetTypes" valueSource="literal" value="" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy,Heroic" />
    <property name="MissilePierceCount" valueSource="variable" value="AbilityMissilePierceCount" />
    <property name="MissileRadius" valueSource="variable" value="AbilityMissileRadius" />
    <property name="OutputEndPoint" value="AbilityTargetPoint" />
    <property name="MinTargets" valueSource="literal" value="2" />
    <property name="MaxVectorLength" valueSource="variable" value="AbilityRange" />
    <property name="TargetBlockingTypes" valueSource="literal" value="" />
    <property name="LifeFractionFactor" valueSource="literal" value="0" />
  </node>
  <node name="&lt; Low Mana" type="EnergyFraction" id="317F74E5F80BD555">
    <property name="EnergyFraction" valueSource="variable" value="AbilityLowManaThreshHold" />
    <property name="Comparison" valueSource="literal" value="LT" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="B8F28B6BDFA3DC9D" />
  </node>
  <node name="Low Mana Targeting" type="Or" id="B8F28B6BDFA3DC9D">
    <insertChild id="FA6B2ADE0EE46224" />
    <insertChild id="C340D1FFFD13321B" />
    <insertChild id="45BF906070529659" />
  </node>
  <node name="Find 1 Hero" type="FindBestVector" id="FA6B2ADE0EE46224">
    <property name="TargetTypes" valueSource="literal" value="" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy,Heroic" />
    <property name="MissilePierceCount" valueSource="variable" value="AbilityMissilePierceCount" />
    <property name="MissileRadius" valueSource="variable" value="AbilityMissileRadius" />
    <property name="OutputEndPoint" value="AbilityTargetPoint" />
    <property name="MinTargets" valueSource="literal" value="1" />
    <property name="MaxVectorLength" valueSource="variable" value="AbilityRange" />
    <property name="TargetBlockingTypes" valueSource="literal" value="Structure" />
    <property name="LifeFractionFactor" valueSource="literal" value="0.4" />
  </node>
  <node name="Find 2 Heroes Under 50% Health" type="FindBestVector" id="C340D1FFFD13321B">
    <property name="TargetTypes" valueSource="literal" value="" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy,Heroic" />
    <property name="MissilePierceCount" valueSource="variable" value="AbilityMissilePierceCount" />
    <property name="MissileRadius" valueSource="variable" value="AbilityMissileRadius" />
    <property name="OutputEndPoint" value="AbilityTargetPoint" />
    <property name="MinTargets" valueSource="literal" value="2" />
    <property name="MaxVectorLength" valueSource="variable" value="AbilityRange" />
    <property name="TargetBlockingTypes" valueSource="literal" value="Structure" />
    <property name="LifeFractionFactor" valueSource="literal" value="0.6" />
  </node>
  <node name="3 Enemy Heroes" type="FindBestVector" id="45BF906070529659">
    <property name="TargetTypes" valueSource="literal" value="" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy,Heroic" />
    <property name="MissilePierceCount" valueSource="variable" value="AbilityMissilePierceCount" />
    <property name="MissileRadius" valueSource="variable" value="AbilityMissileRadius" />
    <property name="OutputEndPoint" value="AbilityTargetPoint" />
    <property name="MinTargets" valueSource="literal" value="3" />
    <property name="MaxVectorLength" valueSource="variable" value="AbilityRange" />
    <property name="TargetBlockingTypes" valueSource="literal" value="Structure" />
    <property name="LifeFractionFactor" valueSource="literal" value="0" />
  </node>
  <node name="PVE Targeting Node" type="Or" id="29FCA40FCE2DE09B">
    <insertChild id="1D4A34B9671FD79D" />
    <insertChild id="511CA05ADB115A22" />
  </node>
  <node name="High Mana" type="EnergyFraction" id="1D4A34B9671FD79D">
    <property name="EnergyFraction" valueSource="variable" value="AbilityHighManaThreshHold" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="896BE13F5B9191AB" />
  </node>
  <node name="High Mana Targeting" type="Or" id="896BE13F5B9191AB">
    <insertChild id="78DFDF10D86EF0FB" />
    <insertChild id="8E50376DB74D5499" />
  </node>
  <node name="Find 4 Anything" type="FindBestVector" id="8E50376DB74D5499">
    <property name="TargetTypes" valueSource="literal" value="Creep,Minion,Merc,MapBoss,MapCreature,AITargetableStructure" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MissilePierceCount" valueSource="variable" value="AbilityMissilePierceCount" />
    <property name="MissileRadius" valueSource="variable" value="AbilityMissileRadius" />
    <property name="OutputEndPoint" value="AbilityTargetPoint" />
    <property name="MinTargets" valueSource="literal" value="4" />
    <property name="MaxVectorLength" valueSource="variable" value="AbilityRange" />
    <property name="TargetBlockingTypes" valueSource="literal" value="Structure" />
  </node>
  <node name="Low Mana" type="EnergyFraction" id="511CA05ADB115A22">
    <property name="EnergyFraction" valueSource="variable" value="AbilityLowManaThreshHold" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="2A94C59B91ED3D8D" />
  </node>
  <node name="Medium Mana Targeting" type="Or" id="2A94C59B91ED3D8D">
    <insertChild id="23B2CCACD5DE353A" />
    <insertChild id="357DA8C3089C9906" />
  </node>
  <node name="Find 6 Anything" type="FindBestVector" id="357DA8C3089C9906">
    <property name="TargetTypes" valueSource="literal" value="Creep,Minion,Merc,MapBoss,MapCreature,AITargetableStructure" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MissilePierceCount" valueSource="variable" value="AbilityMissilePierceCount" />
    <property name="MissileRadius" valueSource="variable" value="AbilityMissileRadius" />
    <property name="OutputEndPoint" value="AbilityTargetPoint" />
    <property name="MinTargets" valueSource="literal" value="6" />
    <property name="MaxVectorLength" valueSource="variable" value="AbilityRange" />
    <property name="TargetBlockingTypes" valueSource="literal" value="Structure" />
  </node>
  <node name="Use Ability" type="Ability" id="460D7B5A9E4E12D9">
    <property name="Ability" valueSource="literal" value="MephistoSkullMissile" />
    <property name="TargetPoint" valueSource="variable" value="AbilityTargetPoint" />
    <property name="PredictionSeconds" valueSource="lookup" value="Behavior,MephistoSkullMissileLaunchDelay,Duration" />
    <property name="PredictionMissileSpeed" valueSource="literal" value="17" />
  </node>
  <node name="Durance Of Hate" type="AbilityUsable" id="59A9E2D6C6D709CA" comment="This Node is the start of the branch. It check that the ability is actually usable before doing any logic for it.">
    <property name="Ability" valueSource="literal" value="MephistoDuranceOfHate" />
    <insertChild id="2DEDFB59E362CE68" />
  </node>
  <node name="Base Node" type="And" id="2DEDFB59E362CE68" comment="This Node links targeting Logic, ability use and talent modifications">
    <variable name="AbilityRange" type="Number" valueSource="lookup" value="Effect,MephistoDuranceOfHateLaunchMissile,ImpactLocation.ProjectionDistanceScale" comment="Range of the Ability" />
    <variable name="AbilityTargetPoint" type="Point" comment="Target Point of the ability" />
    <variable name="AbilityMissileRadius" type="Number" value="1.5" comment="Width of the Ability Searches" />
    <variable name="AbilityMissilePierceCount" type="Number" value="1" comment="Number of Blockers this can go through" />
    <variable name="AbilityHighManaThreshHold" type="Number" value="0.75" comment="High Mana ThreshHold" />
    <variable name="AbilityLowManaThreshHold" type="Number" value="0.4" comment="Low Mana ThreshHold" />
    <variable name="AbilityDamage" type="Number" valueSource="lookup" value="Effect,MephistoDuranceOfHateDoTDamage,Amount" />
    <insertChild id="64EB35399FE2C60D" />
    <insertChild id="00EB11C8AC754EEC" />
    <insertChild id="F578B998012E09E0" />
  </node>
  <node name="Lower Mana Thresholds" type="Sequence" id="64EB35399FE2C60D">
    <property name="IgnoreChildFailures" valueSource="literal" value="true" />
    <insertChild id="8096E9F5EE24EFDB" />
  </node>
  <node name="" type="And" id="8096E9F5EE24EFDB">
    <insertChild id="EC335052CE79A9CA" />
    <insertChild id="BFEC7BBE2BA5CEB5" />
  </node>
  <node name="" type="Or" id="EC335052CE79A9CA">
    <insertChild id="78B17ECCCE50FD3A" />
  </node>
  <node name="Has Taken Quest" type="UnitHasTalent" id="78B17ECCCE50FD3A">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Talent" valueSource="literal" value="MephistoSkullMissileUnyieldingPower" />
    <insertChild id="FA5D47F8CBB98164" />
  </node>
  <node name="Quest Not Finished" type="Validator" id="FA5D47F8CBB98164">
    <property name="Validator" valueSource="literal" value="AlwaysReturnsFalse" />
    <property name="Target" valueSource="intrinsic" value="Self" />
  </node>
  <node name="High -&gt; .4" type="SetNumber" id="BFEC7BBE2BA5CEB5">
    <property name="Variable" value="AbilityHighManaThreshHold" />
    <property name="Value" valueSource="literal" value="0.4" />
    <insertChild id="0BA9D6C4A325E86F" />
  </node>
  <node name="Low -&gt; .15" type="SetNumber" id="0BA9D6C4A325E86F">
    <property name="Variable" value="AbilityLowManaThreshHold" />
    <property name="Value" valueSource="literal" value="0.15" />
  </node>
  <node name="" type="Or" id="00EB11C8AC754EEC">
    <insertChild id="2B31D50B85231092" />
    <insertChild id="345756CF9F22D996" />
  </node>
  <node name="Elite" type="Difficulty" id="2B31D50B85231092">
    <insertChild id="B1ABE72FE446EB7D" />
  </node>
  <node name="" type="Or" id="B1ABE72FE446EB7D">
    <insertChild id="CBE96A77587C90B0" />
    <insertChild id="1336244A2A074D8E" />
  </node>
  <node name="Debuffed" type="FilterBehaviorCategory" id="CBE96A77587C90B0">
    <property name="Categories" valueSource="literal" value="Stun,KnockedOut,DebuffRoot,Taunt" />
    <insertChild id="1D48632E6A6845F3" />
  </node>
  <node name="Not Sleeping" type="FilterBehaviorCategory" id="1D48632E6A6845F3">
    <property name="ExcludeCategories" valueSource="literal" value="Sleeping" />
    <insertChild id="DBF17CD9C075D95F" />
  </node>
  <node name="Find 1 Hero" type="FindBestVector" id="DBF17CD9C075D95F">
    <property name="TargetTypes" valueSource="literal" value="" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy,Heroic" />
    <property name="MissilePierceCount" valueSource="variable" value="AbilityMissilePierceCount" />
    <property name="MissileRadius" valueSource="variable" value="AbilityMissileRadius" />
    <property name="OutputEndPoint" value="AbilityTargetPoint" />
    <property name="MinTargets" valueSource="literal" value="1" />
    <property name="MaxVectorLength" valueSource="variable" value="AbilityRange" />
    <property name="TargetBlockingTypes" valueSource="literal" value="Structure" />
  </node>
  <node name="Fatal Damage" type="FilterLife" id="1336244A2A074D8E">
    <property name="MaxLife" valueSource="variable" value="AbilityDamage" />
    <insertChild id="D49EFDA1C66F5D8F" />
  </node>
  <node name="Find 1 Hero" type="FindBestVector" id="D49EFDA1C66F5D8F">
    <property name="TargetTypes" valueSource="literal" value="" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy,Heroic" />
    <property name="MissilePierceCount" valueSource="variable" value="AbilityMissilePierceCount" />
    <property name="MissileRadius" valueSource="variable" value="AbilityMissileRadius" />
    <property name="OutputEndPoint" value="AbilityTargetPoint" />
    <property name="MinTargets" valueSource="literal" value="1" />
    <property name="MaxVectorLength" valueSource="variable" value="AbilityRange" />
    <property name="TargetBlockingTypes" valueSource="literal" value="Structure" />
  </node>
  <node name="PvP/PvE" type="IfElse" id="345756CF9F22D996">
    <insertChild id="D5A7DF547D7343BB" />
    <insertChild id="4DF287B86E393DB6" />
  </node>
  <node name="Enemy Is Nearby" type="CompareNumber" id="D5A7DF547D7343BB">
    <property name="LeftHandSide" valueSource="variable" value="Enemy Unit Count" />
    <property name="Comparison" valueSource="literal" value="GE" />
    <property name="RightHandSide" valueSource="literal" value="1" />
  </node>
  <node name="PVP Targeting Node" type="Or" id="4DF287B86E393DB6">
    <insertChild id="94646EFE229122EA" />
    <insertChild id="8A783C848879B65D" />
    <insertChild id="C9F1E835A3615F00" />
  </node>
  <node name="&gt; High Mana" type="EnergyFraction" id="94646EFE229122EA">
    <property name="EnergyFraction" valueSource="variable" value="AbilityHighManaThreshHold" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="3125AE820668F7DF" />
  </node>
  <node name="High Mana Targeting" type="Or" id="3125AE820668F7DF">
    <insertChild id="755B0F203A192F11" />
  </node>
  <node name="Find 3 Heroes" type="FindBestVector" id="755B0F203A192F11">
    <property name="TargetTypes" valueSource="literal" value="" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy,Heroic" />
    <property name="MissilePierceCount" valueSource="variable" value="AbilityMissilePierceCount" />
    <property name="MissileRadius" valueSource="variable" value="AbilityMissileRadius" />
    <property name="OutputEndPoint" value="AbilityTargetPoint" />
    <property name="MinTargets" valueSource="literal" value="3" />
    <property name="MaxVectorLength" valueSource="variable" value="AbilityRange" />
    <property name="TargetBlockingTypes" valueSource="literal" value="Structure" />
    <property name="MaxLifeFraction" valueSource="literal" value="0" />
  </node>
  <node name="&gt; Low Mana" type="EnergyFraction" id="8A783C848879B65D">
    <property name="EnergyFraction" valueSource="variable" value="AbilityLowManaThreshHold" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="14EF96A1DDB9A71C" />
  </node>
  <node name="Medium Mana Targeting" type="Or" id="14EF96A1DDB9A71C">
    <insertChild id="E1B0997D822A7E50" />
    <insertChild id="10986219D3A9DD95" />
  </node>
  <node name="Find 1 Hero" type="FindBestVector" id="E1B0997D822A7E50">
    <property name="TargetTypes" valueSource="literal" value="" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy,Heroic" />
    <property name="MissilePierceCount" valueSource="variable" value="AbilityMissilePierceCount" />
    <property name="MissileRadius" valueSource="variable" value="AbilityMissileRadius" />
    <property name="OutputEndPoint" value="AbilityTargetPoint" />
    <property name="MinTargets" valueSource="literal" value="1" />
    <property name="MaxVectorLength" valueSource="variable" value="AbilityRange" />
    <property name="TargetBlockingTypes" valueSource="literal" value="Structure" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.65" />
  </node>
  <node name="Find 2 Heroes" type="FindBestVector" id="10986219D3A9DD95">
    <property name="TargetTypes" valueSource="literal" value="" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy,Heroic" />
    <property name="MissilePierceCount" valueSource="variable" value="AbilityMissilePierceCount" />
    <property name="MissileRadius" valueSource="variable" value="AbilityMissileRadius" />
    <property name="OutputEndPoint" value="AbilityTargetPoint" />
    <property name="MinTargets" valueSource="literal" value="2" />
    <property name="MaxVectorLength" valueSource="variable" value="AbilityRange" />
    <property name="TargetBlockingTypes" valueSource="literal" value="Structure" />
    <property name="MaxLifeFraction" valueSource="literal" value="0" />
  </node>
  <node name="&lt; Low Mana" type="EnergyFraction" id="C9F1E835A3615F00">
    <property name="EnergyFraction" valueSource="variable" value="AbilityLowManaThreshHold" />
    <property name="Comparison" valueSource="literal" value="LT" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="0138088264A9EE8A" />
  </node>
  <node name="Low Mana Targeting" type="Or" id="0138088264A9EE8A">
    <insertChild id="3C173B087B6F1A3D" />
    <insertChild id="0F0F42513B8EADE6" />
    <insertChild id="515155FF01E3CB7C" />
  </node>
  <node name="Find 1 Hero" type="FindBestVector" id="3C173B087B6F1A3D">
    <property name="TargetTypes" valueSource="literal" value="" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy,Heroic" />
    <property name="MissilePierceCount" valueSource="variable" value="AbilityMissilePierceCount" />
    <property name="MissileRadius" valueSource="variable" value="AbilityMissileRadius" />
    <property name="OutputEndPoint" value="AbilityTargetPoint" />
    <property name="MinTargets" valueSource="literal" value="1" />
    <property name="MaxVectorLength" valueSource="variable" value="AbilityRange" />
    <property name="TargetBlockingTypes" valueSource="literal" value="Structure" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.4" />
  </node>
  <node name="Find 2 Heroes Under 50% Health" type="FindBestVector" id="0F0F42513B8EADE6">
    <property name="TargetTypes" valueSource="literal" value="" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy,Heroic" />
    <property name="MissilePierceCount" valueSource="variable" value="AbilityMissilePierceCount" />
    <property name="MissileRadius" valueSource="variable" value="AbilityMissileRadius" />
    <property name="OutputEndPoint" value="AbilityTargetPoint" />
    <property name="MinTargets" valueSource="literal" value="2" />
    <property name="MaxVectorLength" valueSource="variable" value="AbilityRange" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.6" />
    <property name="TargetBlockingTypes" valueSource="literal" value="Structure" />
  </node>
  <node name="3 Enemy Heroes" type="FindBestVector" id="515155FF01E3CB7C">
    <property name="TargetTypes" valueSource="literal" value="" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy,Heroic" />
    <property name="MissilePierceCount" valueSource="variable" value="AbilityMissilePierceCount" />
    <property name="MissileRadius" valueSource="variable" value="AbilityMissileRadius" />
    <property name="OutputEndPoint" value="AbilityTargetPoint" />
    <property name="MinTargets" valueSource="literal" value="3" />
    <property name="MaxVectorLength" valueSource="variable" value="AbilityRange" />
    <property name="TargetBlockingTypes" valueSource="literal" value="Structure" />
    <property name="MaxLifeFraction" valueSource="literal" value="0" />
  </node>
  <node name="Use Ability" type="Ability" id="F578B998012E09E0">
    <property name="Ability" valueSource="literal" value="MephistoDuranceOfHate" />
    <property name="TargetPoint" valueSource="variable" value="AbilityTargetPoint" />
    <property name="PredictionSeconds" valueSource="lookup" value="Abil,MephistoDuranceOfHate,CastIntroTime" />
    <property name="PredictionMissileSpeed" valueSource="literal" value="16" />
  </node>
  <node name="Consume Souls" type="AbilityUsable" id="75A80F8584315D65" comment="This Node is the start of the branch. It check that the ability is actually usable before doing any logic for it.">
    <property name="Ability" valueSource="literal" value="MephistoConsumeSouls" />
    <insertChild id="F18DB37E82BCB05E" />
  </node>
  <node name="Base Node" type="And" id="F18DB37E82BCB05E" comment="This Node links targeting Logic, ability use and talent modifications">
    <variable name="AbilityRange" type="Number" value="500" comment="Range of the Ability" />
    <variable name="AbilityMissileRadius" type="Number" comment="Width of the Searches" />
    <variable name="AbilityMissilePierceCount" type="Number" comment="Number of Blockers this can go through" />
    <variable name="AbilityAOERadius" type="Number" value="1" comment="Radius of the Search" />
    <variable name="AbilityLowManaThreshHold" type="Number" value="0.4" comment="Low Threshhold for Casting" />
    <variable name="AbilityHighManaThreshHold" type="Number" value="0.75" comment="High threshhold for Casting" />
    <variable name="AbilityTargetPoint" type="Point" comment="Point to use ability on" />
    <variable name="AbilityDamage" type="Number" valueSource="lookup" value="Effect,MephistoConsumeSoulsDamage,Amount" />
    <insertChild id="AD021C5CB8E1F5D6" />
    <insertChild id="693CC90ADFCAE26D" />
    <insertChild id="45A59640AA459DBA" />
  </node>
  <node name="Lower Mana Thresholds" type="Sequence" id="AD021C5CB8E1F5D6">
    <property name="IgnoreChildFailures" valueSource="literal" value="true" />
    <insertChild id="CB03D7A8A0AC02F2" />
  </node>
  <node name="" type="And" id="CB03D7A8A0AC02F2">
    <insertChild id="006C52C1C1306C55" />
    <insertChild id="9E15E494D24BD0F5" />
  </node>
  <node name="" type="Or" id="006C52C1C1306C55">
    <insertChild id="5EC98446C7116FC9" />
  </node>
  <node name="Has Taken Quest" type="UnitHasTalent" id="5EC98446C7116FC9">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <insertChild id="A8279DEDFF165CBD" />
  </node>
  <node name="Quest Not Finished" type="Validator" id="A8279DEDFF165CBD">
    <property name="Validator" valueSource="literal" value="AlwaysReturnsFalse" />
    <property name="Target" valueSource="intrinsic" value="Self" />
  </node>
  <node name="High -&gt; .4" type="SetNumber" id="9E15E494D24BD0F5">
    <property name="Variable" value="AbilityHighManaThreshHold" />
    <property name="Value" valueSource="literal" value="0.4" />
    <insertChild id="B738CD1C2527299A" />
  </node>
  <node name="Low -&gt; .15" type="SetNumber" id="B738CD1C2527299A">
    <property name="Variable" value="AbilityLowManaThreshHold" />
    <property name="Value" valueSource="literal" value="0.15" />
  </node>
  <node name="" type="Or" id="693CC90ADFCAE26D">
    <insertChild id="E2B9887716C8E882" />
    <insertChild id="2D8AFA09C553AA8D" />
  </node>
  <node name="Elite" type="Difficulty" id="E2B9887716C8E882">
    <insertChild id="220919375CD38F7E" />
  </node>
  <node name="" type="Or" id="220919375CD38F7E">
    <insertChild id="0D690789516DE34B" />
    <insertChild id="C65D668898B822B5" />
  </node>
  <node name="Debuffed" type="FilterBehaviorCategory" id="0D690789516DE34B">
    <property name="Categories" valueSource="literal" value="Stun,KnockedOut,DebuffRoot,Taunt" />
    <insertChild id="7F0B2B2F87C74B30" />
  </node>
  <node name="Not Sleeping" type="FilterBehaviorCategory" id="7F0B2B2F87C74B30">
    <property name="ExcludeCategories" valueSource="literal" value="Sleeping" />
    <insertChild id="7066DE8A2549D0C7" />
  </node>
  <node name="1 Enemy Hero" type="FindBestAOEPoint" id="7066DE8A2549D0C7">
    <property name="TargetTypes" valueSource="literal" value="" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy,Heroic" />
    <property name="MaxTargetDistance" valueSource="variable" value="AbilityRange" />
    <property name="AOERadius" valueSource="variable" value="AbilityAOERadius" />
    <property name="MinTargets" valueSource="literal" value="1" />
    <property name="OutputTarget" value="AbilityTargetPoint" />
  </node>
  <node name="Fatal Damage" type="FilterLife" id="C65D668898B822B5">
    <property name="MaxLife" valueSource="variable" value="AbilityDamage" />
    <insertChild id="3337AD46DD1A06AA" />
  </node>
  <node name="1 Enemy Hero" type="FindBestAOEPoint" id="3337AD46DD1A06AA">
    <property name="TargetTypes" valueSource="literal" value="" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy,Heroic" />
    <property name="MaxTargetDistance" valueSource="variable" value="AbilityRange" />
    <property name="AOERadius" valueSource="variable" value="AbilityAOERadius" />
    <property name="MinTargets" valueSource="literal" value="1" />
    <property name="OutputTarget" value="AbilityTargetPoint" />
  </node>
  <node name="PVP Targeting Node" type="Or" id="2D8AFA09C553AA8D">
    <insertChild id="2D8458B3080E7F37" />
    <insertChild id="11B9B567CE7A8AB6" />
    <insertChild id="F8ED74861319826C" />
  </node>
  <node name="&gt; High Mana" type="EnergyFraction" id="2D8458B3080E7F37">
    <property name="EnergyFraction" valueSource="variable" value="AbilityHighManaThreshHold" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="354E05294EB9318C" />
  </node>
  <node name="High Mana Targeting" type="Or" id="354E05294EB9318C">
    <insertChild id="DB15E57455E9DBE5" />
    <insertChild id="09AD131820D52728" />
  </node>
  <node name="&gt; Low Mana" type="EnergyFraction" id="11B9B567CE7A8AB6">
    <property name="EnergyFraction" valueSource="variable" value="AbilityLowManaThreshHold" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="E5A45F6C51CD1BAB" />
  </node>
  <node name="Medium Mana Targeting" type="Or" id="E5A45F6C51CD1BAB">
    <insertChild id="8F74553AD1E61D40" />
    <insertChild id="F580FCD3F7DB4E4E" />
  </node>
  <node name="&lt; Low Mana" type="EnergyFraction" id="F8ED74861319826C">
    <property name="EnergyFraction" valueSource="variable" value="AbilityLowManaThreshHold" />
    <property name="Comparison" valueSource="literal" value="LT" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="3ADD08345D138919" />
  </node>
  <node name="Low Mana Targeting" type="Or" id="3ADD08345D138919">
    <insertChild id="A3EC4AAF3C298348" />
    <insertChild id="BCAE039402D8F909" />
  </node>
  <node name="Use Ability" type="Ability" id="45A59640AA459DBA">
    <property name="Ability" valueSource="literal" value="MephistoConsumeSouls" />
    <property name="TargetPoint" valueSource="variable" value="AbilityTargetPoint" />
  </node>
  <node name="Lightning Nova" type="AbilityUsable" id="B24F661406B932BC" comment="This Node is the start of the branch. It check that the ability is actually usable before doing any logic for it.">
    <property name="Ability" valueSource="literal" value="MephistoLightningNova" />
    <insertChild id="F32CB831D0F193ED" />
  </node>
  <node name="Base Node" type="And" id="F32CB831D0F193ED" comment="This Node links targeting Logic, ability use and talent modifications">
    <variable name="AbilityRange" type="Number" comment="Range of the Ability" />
    <variable name="AbilityMissileRadius" type="Number" comment="Width of the Searches" />
    <variable name="AbilityMissilePierceCount" type="Number" comment="Number of Blockers this can go through" />
    <variable name="AbilityAOERadius" type="Number" valueSource="lookup" value="Effect,MephistoLightningNovaLoopSearch,AreaArray[0].Radius" comment="Radius of the Search" />
    <variable name="AbilityLowManaThreshHold" type="Number" value="0.4" comment="Low Threshhold for Casting" />
    <variable name="AbilityHighManaThreshHold" type="Number" value="0.75" comment="High threshhold for Casting" />
    <variable name="AbilityTargetPoint" type="Point" comment="Point to use ability on" />
    <variable name="AbilityDamage" type="Number" valueSource="lookup" value="Effect,MephistoLightningNovaDamage,Amount" />
    <insertChild id="3E7799575F019229" />
    <insertChild id="0C1BA9AD1D15713B" />
  </node>
  <node name="" type="Or" id="3E7799575F019229">
    <insertChild id="47AFB221529DF70B" />
    <insertChild id="8ED8987AD3F08238" />
  </node>
  <node name="Elite" type="Difficulty" id="47AFB221529DF70B">
    <insertChild id="D6117F9A1A640C1F" />
  </node>
  <node name="" type="Or" id="D6117F9A1A640C1F">
    <insertChild id="8804ACCC21C7D378" />
    <insertChild id="0054C444B62AF269" />
  </node>
  <node name="Debuffed" type="FilterBehaviorCategory" id="8804ACCC21C7D378">
    <property name="Categories" valueSource="literal" value="Stun,KnockedOut,DebuffRoot,Taunt" />
    <insertChild id="0072A3438BA77EC7" />
  </node>
  <node name="Not Sleeping" type="FilterBehaviorCategory" id="0072A3438BA77EC7">
    <property name="ExcludeCategories" valueSource="literal" value="Sleeping" />
    <insertChild id="1CC03320CF12D712" />
  </node>
  <node name="1 Enemy Hero" type="FindBestAOEPoint" id="1CC03320CF12D712">
    <property name="TargetTypes" valueSource="literal" value="" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy,Heroic" />
    <property name="MaxTargetDistance" valueSource="variable" value="AbilityRange" />
    <property name="AOERadius" valueSource="variable" value="AbilityAOERadius" />
    <property name="MinTargets" valueSource="literal" value="1" />
    <property name="OutputTarget" value="AbilityTargetPoint" />
  </node>
  <node name="Fatal Damage" type="FilterLife" id="0054C444B62AF269">
    <property name="MaxLife" valueSource="variable" value="AbilityDamage" />
    <insertChild id="F5CCF248EB6FDCB7" />
  </node>
  <node name="1 Enemy Hero" type="FindBestAOEPoint" id="F5CCF248EB6FDCB7">
    <property name="TargetTypes" valueSource="literal" value="" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy,Heroic" />
    <property name="MaxTargetDistance" valueSource="variable" value="AbilityRange" />
    <property name="AOERadius" valueSource="variable" value="AbilityAOERadius" />
    <property name="MinTargets" valueSource="literal" value="1" />
    <property name="OutputTarget" value="AbilityTargetPoint" />
  </node>
  <node name="Use Ability" type="Ability" id="0C1BA9AD1D15713B">
    <property name="Ability" valueSource="literal" value="MephistoLightningNova" />
    <property name="TargetPoint" valueSource="variable" value="AbilityTargetPoint" />
  </node>
  <node name="1 Enemy Hero &lt; 50%" type="UnitCount" id="DB15E57455E9DBE5">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="SearchCenter" valueSource="variable" value="AbilityTargetPoint" />
    <property name="MaxTargetDistance" valueSource="variable" value="AbilityRange" />
    <property name="TargetCount" valueSource="literal" value="1" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.25" />
  </node>
  <node name="2 Enemy Hero &lt; 60%" type="UnitCount" id="8F74553AD1E61D40">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="SearchCenter" valueSource="variable" value="AbilityTargetPoint" />
    <property name="MaxTargetDistance" valueSource="variable" value="AbilityRange" />
    <property name="TargetCount" valueSource="literal" value="2" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.6" />
  </node>
  <node name="3 Enemy Hero &lt; 50%" type="UnitCount" id="F580FCD3F7DB4E4E">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="SearchCenter" valueSource="variable" value="AbilityTargetPoint" />
    <property name="MaxTargetDistance" valueSource="variable" value="AbilityRange" />
    <property name="TargetCount" valueSource="literal" value="3" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.5" />
  </node>
  <node name="PVP Targeting Node" type="Or" id="8ED8987AD3F08238">
    <insertChild id="1E6E5A8AC7739B7D" />
    <insertChild id="7DC8A8344C3D85C8" />
    <insertChild id="5E35EF04E98D26DD" />
  </node>
  <node name="&gt; High Mana" type="EnergyFraction" id="1E6E5A8AC7739B7D">
    <property name="EnergyFraction" valueSource="variable" value="AbilityHighManaThreshHold" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="BD5AD509A784B656" />
  </node>
  <node name="High Mana Targeting" type="Or" id="BD5AD509A784B656">
    <insertChild id="63612880EA16D7EC" />
    <insertChild id="6E7EDBDEE6CB998C" />
  </node>
  <node name="3 Anything Bonus" type="UnitCount" id="6E7EDBDEE6CB998C">
    <property name="TargetTypes" valueSource="literal" value="Creep,Minion,Merc,Heroic,Summoned,MapBoss,MapCreature,AITargetableStructure" />
    <property name="SearchCenter" valueSource="variable" value="AbilityTargetPoint" />
    <property name="MaxTargetDistance" valueSource="variable" value="AbilityAOERadius" />
    <property name="TargetCount" valueSource="literal" value="3" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MinTargetDistance" valueSource="literal" value="5.25" />
  </node>
  <node name="&gt; Low Mana" type="EnergyFraction" id="7DC8A8344C3D85C8">
    <property name="EnergyFraction" valueSource="variable" value="AbilityLowManaThreshHold" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="6AF59E9285318AE5" />
  </node>
  <node name="Medium Mana Targeting" type="Or" id="6AF59E9285318AE5">
    <insertChild id="5B73EA9DD9F02B3C" />
    <insertChild id="95ABFC3347A8A210" />
    <insertChild id="F1D3F1C37848DE3D" />
  </node>
  <node name="5 Anything Bonus" type="UnitCount" id="95ABFC3347A8A210">
    <property name="TargetTypes" valueSource="literal" value="Creep,Minion,Merc,Heroic,Summoned,MapBoss,MapCreature,AITargetableStructure" />
    <property name="SearchCenter" valueSource="variable" value="AbilityTargetPoint" />
    <property name="MaxTargetDistance" valueSource="variable" value="AbilityAOERadius" />
    <property name="TargetCount" valueSource="literal" value="5" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MinTargetDistance" valueSource="literal" value="5.25" />
  </node>
  <node name="3 Heroes" type="UnitCount" id="F1D3F1C37848DE3D">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="SearchCenter" valueSource="variable" value="AbilityTargetPoint" />
    <property name="MaxTargetDistance" valueSource="variable" value="AbilityAOERadius" />
    <property name="TargetCount" valueSource="literal" value="3" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MinTargetDistance" valueSource="literal" value="5.25" />
  </node>
  <node name="&lt; Low Mana" type="EnergyFraction" id="5E35EF04E98D26DD">
    <property name="EnergyFraction" valueSource="variable" value="AbilityLowManaThreshHold" />
    <property name="Comparison" valueSource="literal" value="LT" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="F22B53846E9629D9" />
  </node>
  <node name="Low Mana Targeting" type="Or" id="F22B53846E9629D9">
    <insertChild id="00AEE3F6A7A20963" />
    <insertChild id="2429AF841CF89AF6" />
    <insertChild id="DD3FBD0F2CDBA181" />
  </node>
  <node name="4 Heroes" type="UnitCount" id="2429AF841CF89AF6">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="SearchCenter" valueSource="variable" value="AbilityTargetPoint" />
    <property name="MaxTargetDistance" valueSource="variable" value="AbilityAOERadius" />
    <property name="TargetCount" valueSource="literal" value="4" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MinTargetDistance" valueSource="literal" value="5.25" />
  </node>
  <node name="8 Anything Bonus" type="UnitCount" id="DD3FBD0F2CDBA181">
    <property name="TargetTypes" valueSource="literal" value="Creep,Minion,Merc,Heroic,Summoned,MapBoss,MapCreature,AITargetableStructure" />
    <property name="SearchCenter" valueSource="variable" value="AbilityTargetPoint" />
    <property name="MaxTargetDistance" valueSource="variable" value="AbilityAOERadius" />
    <property name="TargetCount" valueSource="literal" value="8" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MinTargetDistance" valueSource="literal" value="5.25" />
  </node>
  <node name="2 Enemy Hero &lt; 60%" type="UnitCount" id="A3EC4AAF3C298348">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="SearchCenter" valueSource="variable" value="AbilityTargetPoint" />
    <property name="MaxTargetDistance" valueSource="variable" value="AbilityRange" />
    <property name="TargetCount" valueSource="literal" value="2" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.6" />
  </node>
  <node name="3 Enemy Hero &lt; 50%" type="UnitCount" id="09AD131820D52728">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="SearchCenter" valueSource="variable" value="AbilityTargetPoint" />
    <property name="MaxTargetDistance" valueSource="variable" value="AbilityRange" />
    <property name="TargetCount" valueSource="literal" value="3" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.5" />
  </node>
  <node name="3 Enemy Hero &lt; 30%" type="UnitCount" id="BCAE039402D8F909">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="SearchCenter" valueSource="variable" value="AbilityTargetPoint" />
    <property name="MaxTargetDistance" valueSource="variable" value="AbilityRange" />
    <property name="TargetCount" valueSource="literal" value="3" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.3" />
  </node>
  <node name="Shade of Mephisto" type="AbilityUsable" id="3CB355BF33A946AF">
    <property name="Ability" valueSource="literal" value="MephistoShadeOfMephisto" />
    <insertChild id="762FF5B091AD65B8" />
  </node>
  <node name="Defensive Use" type="And" id="762FF5B091AD65B8">
    <variable name="Blink Range" type="Number" valueSource="lookup" value="Abil,MephistoShadeOfMephisto,Range" />
    <variable name="Blink Safe Point" type="Point" />
    <insertChild id="50577A4E38794F11" />
    <insertChild id="6CA2D573F909B7E6" />
    <insertChild id="BAE8022C8BD8506E" />
  </node>
  <node name="Enemies Nearby or In Danger" type="Or" id="50577A4E38794F11">
    <insertChild id="3E6B078C2B33683E" />
    <insertChild id="22B21A0C19FE483D" />
  </node>
  <node name="Critical Health" type="LifeFraction" id="3E6B078C2B33683E">
    <property name="Comparison" valueSource="literal" value="LE" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <property name="LifeFraction" valueSource="variable" value="Health_ReturnToSpawn" />
    <insertChild id="4E79A03880709921" />
  </node>
  <node name="Enemy Hero Nearby" type="UnitCount" id="4E79A03880709921">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="TargetCount" valueSource="literal" value="2" />
    <property name="MaxTargetDistance" valueSource="literal" value="8" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
  </node>
  <node name="40% Health" type="LifeFraction" id="22B21A0C19FE483D">
    <property name="Comparison" valueSource="literal" value="LE" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <property name="LifeFraction" valueSource="literal" value="0.4" />
    <insertChild id="629293E85721248E" />
  </node>
  <node name="2+ Enemy Heroes Nearby" type="UnitCount" id="629293E85721248E">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="TargetCount" valueSource="literal" value="3" />
    <property name="MaxTargetDistance" valueSource="literal" value="8" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="MinLifeFraction" valueSource="literal" value="0.5" />
  </node>
  <node name="Find Safe Blink Point" type="FindSafePoint" id="6CA2D573F909B7E6">
    <property name="FleeDistance" valueSource="variable" value="Blink Range" />
    <property name="PreferredPoint" valueSource="intrinsic" value="SafePos" />
    <property name="OutputTarget" value="Blink Safe Point" />
  </node>
  <node name="Cast" type="Ability" id="BAE8022C8BD8506E">
    <property name="Ability" valueSource="literal" value="MephistoShadeOfMephisto" />
    <property name="TargetPoint" valueSource="variable" value="Blink Safe Point" />
  </node>
  <node name="Shade of Mephisto" type="AbilityUsable" id="7D64C24E9AC83557">
    <property name="Ability" valueSource="literal" value="MephistoShadeOfMephisto" />
    <insertChild id="13E7C634B6BDD0A2" />
  </node>
  <node name="Teleport Shade" type="And" id="13E7C634B6BDD0A2">
    <variable name="Shade Range" type="Number" valueSource="lookup" value="Abil,MephistoShadeOfMephisto,Range" />
    <variable name="Shade AoE Radius" type="Number" valueSource="lookup" value="Effect,MephistoShadeOfMephistoSearchArea,AreaArray[0].Radius" />
    <variable name="Teleport Target Point" type="Point" />
    <insertChild id="58FD18E9A6D89EA6" />
    <insertChild id="44BDE9265B9D1F88" />
  </node>
  <node name="Find 35% Enemy Heroes" type="FindBestAOEPoint" id="58FD18E9A6D89EA6">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="FilterTargetsInDangerousArea" valueSource="literal" value="true" />
    <property name="FilterTargetsBehindGate" valueSource="literal" value="true" />
    <property name="MaxTargetDistance" valueSource="variable" value="Shade Range" />
    <property name="AOERadius" valueSource="variable" value="Shade AoE Radius" />
    <property name="MinTargets" valueSource="literal" value="1" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.35" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="LifeFractionFactor" valueSource="literal" value="5" />
    <property name="OutputTarget" value="Teleport Target Point" />
  </node>
  <node name="Cast" type="Ability" id="44BDE9265B9D1F88">
    <property name="Ability" valueSource="literal" value="MephistoShadeOfMephisto" />
    <property name="TargetPoint" valueSource="variable" value="Teleport Target Point" />
  </node>
  <node name="1 Hero &lt;50%" type="UnitCount" id="63612880EA16D7EC">
    <property name="TargetTypes" valueSource="literal" value="Creep,Minion,Merc,Heroic,Summoned,MapBoss,MapCreature,AITargetableStructure" />
    <property name="SearchCenter" valueSource="variable" value="AbilityTargetPoint" />
    <property name="MaxTargetDistance" valueSource="variable" value="AbilityAOERadius" />
    <property name="TargetCount" valueSource="literal" value="1" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MinTargetDistance" valueSource="literal" value="5.25" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.75" />
  </node>
  <node name="1 Hero &lt;50%" type="UnitCount" id="5B73EA9DD9F02B3C">
    <property name="TargetTypes" valueSource="literal" value="Creep,Minion,Merc,Heroic,Summoned,MapBoss,MapCreature,AITargetableStructure" />
    <property name="SearchCenter" valueSource="variable" value="AbilityTargetPoint" />
    <property name="MaxTargetDistance" valueSource="variable" value="AbilityAOERadius" />
    <property name="TargetCount" valueSource="literal" value="1" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MinTargetDistance" valueSource="literal" value="5.25" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.5" />
  </node>
  <node name="1 Hero &lt;20%" type="UnitCount" id="00AEE3F6A7A20963">
    <property name="TargetTypes" valueSource="literal" value="Creep,Minion,Merc,Heroic,Summoned,MapBoss,MapCreature,AITargetableStructure" />
    <property name="SearchCenter" valueSource="variable" value="AbilityTargetPoint" />
    <property name="MaxTargetDistance" valueSource="variable" value="AbilityAOERadius" />
    <property name="TargetCount" valueSource="literal" value="1" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MinTargetDistance" valueSource="literal" value="5.25" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.2" />
  </node>
  <node name="Find 1 Boss/Merc" type="FindBestVector" id="78DFDF10D86EF0FB">
    <property name="TargetTypes" valueSource="literal" value="Merc,MapBoss,MapCreature,AITargetableStructure" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MissilePierceCount" valueSource="variable" value="AbilityMissilePierceCount" />
    <property name="MissileRadius" valueSource="variable" value="AbilityMissileRadius" />
    <property name="OutputEndPoint" value="AbilityTargetPoint" />
    <property name="MinTargets" valueSource="literal" value="1" />
    <property name="MaxVectorLength" valueSource="variable" value="AbilityRange" />
    <property name="TargetBlockingTypes" valueSource="literal" value="Structure" />
  </node>
  <node name="Find 1 Boss/Merc" type="FindBestVector" id="23B2CCACD5DE353A">
    <property name="TargetTypes" valueSource="literal" value="Merc,MapBoss,MapCreature,AITargetableStructure" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MissilePierceCount" valueSource="variable" value="AbilityMissilePierceCount" />
    <property name="MissileRadius" valueSource="variable" value="AbilityMissileRadius" />
    <property name="OutputEndPoint" value="AbilityTargetPoint" />
    <property name="MinTargets" valueSource="literal" value="1" />
    <property name="MaxVectorLength" valueSource="variable" value="AbilityRange" />
    <property name="TargetBlockingTypes" valueSource="literal" value="Structure" />
  </node>
  <node name="Skull Missile" type="AbilityUsable" id="1F850778EE27F719" comment="This Node is the start of the branch. It check that the ability is actually usable before doing any logic for it.">
    <property name="Ability" valueSource="literal" value="MephistoSkullMissile" />
    <insertChild id="6E146FDE1A423786" />
  </node>
  <node name="Base Node" type="And" id="6E146FDE1A423786" comment="This Node links targeting Logic, ability use and talent modifications">
    <variable name="AbilityRange" type="Number" valueSource="lookup" value="Effect,MephistoSkullMissileLaunchMissile,ImpactLocation.ProjectionDistanceScale" comment="Range of the Ability" />
    <insertChild id="5030AEE33985B5F7" />
  </node>
  <node name="Use Ability" type="Ability" id="FFDA1CE5E4BABA71">
    <property name="Ability" valueSource="literal" value="MephistoSkullMissile" />
    <property name="TargetPoint" valueSource="variable" value="CloakedTargetPosition" />
    <property name="PredictionSeconds" valueSource="lookup" value="Behavior,MephistoSkullMissileLaunchDelay,Duration" />
    <property name="PredictionMissileSpeed" valueSource="literal" value="17" />
  </node>
  <node name="" type="Distance" id="5030AEE33985B5F7">
    <property name="Distance" valueSource="variable" value="AbilityRange" />
    <property name="Comparison" valueSource="literal" value="LT" />
    <property name="SourceUnit" valueSource="intrinsic" value="Self" />
    <property name="TargetPoint" valueSource="variable" value="CloakedTargetPosition" />
    <insertChild id="FFDA1CE5E4BABA71" />
  </node>
</tree>