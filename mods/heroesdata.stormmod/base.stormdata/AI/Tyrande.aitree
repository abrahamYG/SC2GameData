<?xml version="1.0" encoding="us-ascii"?>
<tree>
  <include file="AI/HeroMutator.aitree" />
  <mod id="87811D772E337EB7">
    <insertChild id="54C1BC265E4B6922" />
    <insertChild id="D4F164E7E3416BAA" />
    <insertChild id="485ED6CB9F1361CA" />
  </mod>
  <mod id="A4058AA255280C17">
    <insertChild id="16E2AAB652AA3860" />
    <insertChild id="D0F810F8565A6A87" />
    <insertChild id="BCC1DDAE2DCE8337" />
    <insertChild id="B1AB98E089719292" />
    <insertChild id="C53B815A017A6B3E" />
  </mod>
  <mod id="F21BCB9B06948439">
    <insertChild id="1DE365F10B015832" />
    <insertChild id="361B6F64D0FE22FC" />
  </mod>
  <node name="Light of Elune" type="AbilityUsable" id="F17718864DE18DBC">
    <property name="Ability" valueSource="literal" value="TyrandeLightofElune" />
  </node>
  <node name="Light of Elune" type="And" id="ECA1742F6CE58B2F">
    <variable name="Light of Elune Target Unit" type="Unit" />
    <variable name="Light of Elune Range" type="Number" valueSource="lookup" value="Abil,TyrandeLightofElune,Range" />
    <insertChild id="788208FF66CCF598" />
    <insertChild id="BD24EFFD8E3FB174" />
  </node>
  <node name="Cast" type="AbilityEnqueue" id="2F070F55579C574C">
    <property name="Ability" valueSource="literal" value="TyrandeLightofElune" />
    <property name="TargetUnit" valueSource="variable" value="Light of Elune Target Unit" />
  </node>
  <node name="Mana Filter" type="Or" id="788208FF66CCF598">
    <insertChild id="06A47B3D174AA71C" />
    <insertChild id="85A08FE4833DE3B2" />
    <insertChild id="ED5B268FAD293FF6" />
    <insertChild id="0CE7384A0C174615" />
    <insertChild id="0C16518EBB46B5B3" />
    <insertChild id="62FA3AB57BDD0401" />
  </node>
  <node name="Medium" type="And" id="0C16518EBB46B5B3">
    <insertChild id="FF5115AA999F7303" />
    <insertChild id="0DB2681355449EF1" />
  </node>
  <node name="Med Mana" type="EnergyFraction" id="FF5115AA999F7303">
    <property name="EnergyFraction" valueSource="literal" value="0.5" />
    <property name="Target" valueSource="intrinsic" value="Self" />
  </node>
  <node name="Ally under 70%" type="FindBestTarget" id="0DB2681355449EF1">
    <property name="MaxLifeFraction" valueSource="literal" value="0.7" />
    <property name="LifeFractionFactor" valueSource="literal" value="3" />
    <property name="OutputTarget" value="Light of Elune Target Unit" />
    <property name="MaxTargetDistance" valueSource="variable" value="Light of Elune Range" />
    <property name="TargetTypes" valueSource="literal" value="Self,Player,Ally" />
    <property name="RequiredTypes" valueSource="literal" value="Heroic" />
    <property name="ExcludeTypes" valueSource="literal" value="Missile,Stasis,Dead,Hallucination,Benign" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
  </node>
  <node name="Ally under 50%" type="FindBestTarget" id="62FA3AB57BDD0401">
    <property name="MaxLifeFraction" valueSource="literal" value="0.5" />
    <property name="LifeFractionFactor" valueSource="literal" value="3" />
    <property name="OutputTarget" value="Light of Elune Target Unit" />
    <property name="MaxTargetDistance" valueSource="variable" value="Light of Elune Range" />
    <property name="TargetTypes" valueSource="literal" value="Self,Player,Ally" />
    <property name="RequiredTypes" valueSource="literal" value="Heroic" />
    <property name="ExcludeTypes" valueSource="literal" value="Missile,Stasis,Dead,Hallucination,Benign" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
  </node>
  <node name="Light of Elune" type="And" id="C53B815A017A6B3E">
    <insertChild id="276ADFB3E021E6DF" />
    <insertChild id="ECA1742F6CE58B2F" />
  </node>
  <node name="Spell Check" type="Or" id="276ADFB3E021E6DF">
    <insertChild id="F17718864DE18DBC" />
    <insertChild id="E3D9F579341DC068" />
  </node>
  <node name="Light of Elune (Celestial Attunement)" type="AbilityUsable" id="E3D9F579341DC068">
    <property name="Ability" valueSource="literal" value="TyrandeLightofEluneCelestialAttunement" />
  </node>
  <node name="Light of Elune (Celestial Attunement)" type="AbilityUsable" id="33E3136D2184E739">
    <property name="Ability" valueSource="literal" value="TyrandeLightofEluneCelestialAttunement" />
  </node>
  <node name="Cast" type="Or" id="BD24EFFD8E3FB174">
    <insertChild id="B975B15DE17C1C0F" />
    <insertChild id="0D6303B6E8356EDE" />
  </node>
  <node name="Light of Elune" type="AbilityUsable" id="B975B15DE17C1C0F">
    <property name="Ability" valueSource="literal" value="TyrandeLightofElune" />
    <insertChild id="2F070F55579C574C" />
  </node>
  <node name="Light of Elune (Celestial Attunement)" type="AbilityUsable" id="0D6303B6E8356EDE">
    <property name="Ability" valueSource="literal" value="TyrandeLightofEluneCelestialAttunement" />
    <insertChild id="DC1F03F400536CC7" />
  </node>
  <node name="Cast" type="AbilityEnqueue" id="DC1F03F400536CC7">
    <property name="Ability" valueSource="literal" value="TyrandeLightofEluneCelestialAttunement" />
    <property name="TargetUnit" valueSource="variable" value="Light of Elune Target Unit" />
  </node>
  <node name="Ally under 25%" type="FindBestTarget" id="85A08FE4833DE3B2">
    <property name="MaxLifeFraction" valueSource="literal" value="0.25" />
    <property name="LifeFractionFactor" valueSource="literal" value="3" />
    <property name="OutputTarget" value="Light of Elune Target Unit" />
    <property name="MaxTargetDistance" valueSource="variable" value="Light of Elune Range" />
    <property name="TargetTypes" valueSource="literal" value="Self,Player,Ally" />
    <property name="RequiredTypes" valueSource="literal" value="Heroic" />
    <property name="ExcludeTypes" valueSource="literal" value="Missile,Stasis,Dead,Hallucination,Benign" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
  </node>
  <node name="Free Cast" type="And" id="06A47B3D174AA71C">
    <insertChild id="33E3136D2184E739" />
    <insertChild id="11A664FABD2D5A6A" />
  </node>
  <node name="Injured Ally" type="FindBestTarget" id="11A664FABD2D5A6A">
    <property name="MaxLifeFraction" valueSource="literal" value="0.95" />
    <property name="LifeFractionFactor" valueSource="literal" value="3" />
    <property name="OutputTarget" value="Light of Elune Target Unit" />
    <property name="MaxTargetDistance" valueSource="variable" value="Light of Elune Range" />
    <property name="TargetTypes" valueSource="literal" value="Self,Player,Ally" />
    <property name="RequiredTypes" valueSource="literal" value="Heroic" />
    <property name="ExcludeTypes" valueSource="literal" value="Missile,Stasis,Dead,Hallucination,Benign" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
  </node>
  <node name="Free Heal Proc Check" type="And" id="ED5B268FAD293FF6">
    <insertChild id="A16DAB5EA0BDC388" />
    <insertChild id="3962FE7941D325A6" />
    <insertChild id="4908EBE91B18DE66" />
  </node>
  <node name="Low Mana" type="EnergyFraction" id="3962FE7941D325A6">
    <property name="EnergyFraction" valueSource="literal" value="0.3" />
    <property name="Target" valueSource="intrinsic" value="Self" />
  </node>
  <node name="Ally under 75%" type="FindBestTarget" id="2A3F50B8B0B562AC">
    <property name="MaxLifeFraction" valueSource="literal" value="0.75" />
    <property name="LifeFractionFactor" valueSource="literal" value="3" />
    <property name="OutputTarget" value="Light of Elune Target Unit" />
    <property name="MaxTargetDistance" valueSource="variable" value="Light of Elune Range" />
    <property name="TargetTypes" valueSource="literal" value="Self,Player,Ally" />
    <property name="RequiredTypes" valueSource="literal" value="Heroic" />
    <property name="ExcludeTypes" valueSource="literal" value="Missile,Stasis,Dead,Hallucination,Benign" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
  </node>
  <node name="Silenced or Stunned" type="FilterBehaviorCategory" id="4908EBE91B18DE66">
    <property name="Categories" valueSource="literal" value="Stun,DebuffSilence" />
    <insertChild id="2A3F50B8B0B562AC" />
  </node>
  <node name="Celestial Attunement" type="UnitHasTalent" id="A16DAB5EA0BDC388">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Talent" valueSource="literal" value="TyrandeCelestialAttunement" />
  </node>
  <node name="Lunar Flare" type="AbilityUsable" id="1DE365F10B015832">
    <property name="Ability" valueSource="literal" value="TyrandeLunarFlare" />
    <insertChild id="F6696FA3FB99D602" />
  </node>
  <node name="Cast" type="Ability" id="979AD875FBF02448">
    <property name="Ability" valueSource="literal" value="TyrandeLunarFlare" />
    <property name="TargetPoint" valueSource="variable" value="Lunar Flare Target Point" />
  </node>
  <node name="Lunar Flare" type="And" id="F6696FA3FB99D602">
    <variable name="Lunar Flare Target Point" type="Point" />
    <variable name="Lunar Flare Target Unit" type="Unit" />
    <variable name="Lunar Flare Defense Unit" type="Unit" />
    <variable name="Lunar Flare Range" type="Number" valueSource="lookup" value="Abil,TyrandeLunarFlare,Range" />
    <insertChild id="96CCD298F9345909" />
    <insertChild id="524497403EF3CC61" />
    <insertChild id="A0581614A568F394" />
    <insertChild id="28CE67D08931A420" />
    <insertChild id="979AD875FBF02448" />
  </node>
  <node name="Find Low Health Hero" type="FindBestTarget" id="96CCD298F9345909">
    <property name="TargetTypes" valueSource="literal" value="Self,Player,Ally" />
    <property name="RequiredTypes" valueSource="literal" value="Heroic" />
    <property name="OutputTarget" value="Lunar Flare Defense Unit" />
    <property name="MaxTargetDistance" valueSource="literal" value="8" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.4" />
  </node>
  <node name="Find Enemy Near Ally" type="FindBestTarget" id="524497403EF3CC61">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MaxTargetDistance" valueSource="literal" value="6" />
    <property name="MinLifeFraction" valueSource="literal" value="0.5" />
    <property name="DistanceFactor" valueSource="literal" value="3" />
    <property name="SearchCenter" valueSource="variable" value="Lunar Flare Defense Unit" />
    <property name="OutputTarget" value="Lunar Flare Target Unit" />
    <property name="LifeFractionFactor" valueSource="literal" value="-1" />
    <property name="PredictionSeconds" valueSource="literal" value="0.75" />
  </node>
  <node name="Convert To Point" type="UnitPosition" id="A0581614A568F394">
    <property name="InputUnit" valueSource="variable" value="Lunar Flare Target Unit" />
    <property name="OutputPosition" value="Lunar Flare Target Point" />
    <property name="PredictionSeconds" valueSource="literal" value="0.75" />
  </node>
  <node name="Lunar Flare" type="AbilityUsable" id="54C1BC265E4B6922">
    <property name="Ability" valueSource="literal" value="TyrandeLunarFlare" />
    <insertChild id="7455D56B73D6CABB" />
  </node>
  <node name="Lunar Flare" type="And" id="7455D56B73D6CABB">
    <variable name="Lunar Flare Target Point" type="Point" />
    <variable name="Lunar Flare Target Unit" type="Unit" />
    <variable name="Lunar Flare Range" type="Number" valueSource="lookup" value="Abil,TyrandeLunarFlare,Range" />
    <variable name="Lunar Flare AoE Radius" type="Number" valueSource="lookup" value="Effect,LunarFlareImpactSearchArea,AreaArray[0].Radius" />
    <variable name="Lunar Flare Delay" type="Number" value="0.75" />
    <insertChild id="FA42FE2FD508FF12" />
    <insertChild id="A890BC1B73D45CCD" />
  </node>
  <node name="Cast" type="Ability" id="A890BC1B73D45CCD">
    <property name="Ability" valueSource="literal" value="TyrandeLunarFlare" />
    <property name="TargetPoint" valueSource="variable" value="Lunar Flare Target Point" />
  </node>
  <node name="Mana Filter" type="Or" id="FA42FE2FD508FF12">
    <insertChild id="8E9F290341B2CD2A" />
    <insertChild id="28CA88FECCA35138" />
    <insertChild id="712B781EC8976D1B" />
    <insertChild id="08932EAA626EA699" />
  </node>
  <node name="Critical Health Hero" type="FindBestAOEPoint" id="8E9F290341B2CD2A">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.25" />
    <property name="LifeFractionFactor" valueSource="literal" value="3" />
    <property name="MaxTargetDistance" valueSource="variable" value="Lunar Flare Range" />
    <property name="AOERadius" valueSource="variable" value="Lunar Flare AoE Radius" />
    <property name="MinTargets" valueSource="literal" value="1" />
    <property name="OutputTarget" value="Lunar Flare Target Point" />
    <property name="FilterTargetsBehindGate" valueSource="literal" value="true" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="PredictionSeconds" valueSource="variable" value="Lunar Flare Delay" />
  </node>
  <node name="High" type="And" id="28CA88FECCA35138">
    <insertChild id="1534D67F1EFB6B1A" />
    <insertChild id="7BB238B1DF2E84E2" />
  </node>
  <node name="High Mana" type="EnergyFraction" id="1534D67F1EFB6B1A">
    <property name="EnergyFraction" valueSource="literal" value="0.7" />
    <property name="Target" valueSource="intrinsic" value="Self" />
  </node>
  <node name="Hero Target" type="FindBestAOEPoint" id="7BB238B1DF2E84E2">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="LifeFractionFactor" valueSource="literal" value="3" />
    <property name="MaxTargetDistance" valueSource="variable" value="Lunar Flare Range" />
    <property name="AOERadius" valueSource="variable" value="Lunar Flare AoE Radius" />
    <property name="MinTargets" valueSource="literal" value="1" />
    <property name="OutputTarget" value="Lunar Flare Target Point" />
    <property name="FilterTargetsBehindGate" valueSource="literal" value="true" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="PredictionSeconds" valueSource="variable" value="Lunar Flare Delay" />
  </node>
  <node name="Medium" type="And" id="712B781EC8976D1B">
    <insertChild id="4F0ACABB44D94EBA" />
    <insertChild id="5F0D5B1A094D417D" />
  </node>
  <node name="Med Mana" type="EnergyFraction" id="7FCBF4A43BBCC93B">
    <property name="EnergyFraction" valueSource="literal" value="0.5" />
    <property name="Target" valueSource="intrinsic" value="Self" />
  </node>
  <node name="" type="Or" id="5F0D5B1A094D417D">
    <insertChild id="EE8A0FA9170B5B58" />
    <insertChild id="09BA58C2B9D2B96D" />
  </node>
  <node name="Wounded Hero Target" type="FindBestAOEPoint" id="EE8A0FA9170B5B58">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.7" />
    <property name="LifeFractionFactor" valueSource="literal" value="3" />
    <property name="MaxTargetDistance" valueSource="variable" value="Lunar Flare Range" />
    <property name="AOERadius" valueSource="variable" value="Lunar Flare AoE Radius" />
    <property name="MinTargets" valueSource="literal" value="1" />
    <property name="OutputTarget" value="Lunar Flare Target Point" />
    <property name="FilterTargetsBehindGate" valueSource="literal" value="true" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="PredictionSeconds" valueSource="variable" value="Lunar Flare Delay" />
  </node>
  <node name="2 Hero Targets" type="FindBestAOEPoint" id="09BA58C2B9D2B96D">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="LifeFractionFactor" valueSource="literal" value="3" />
    <property name="MaxTargetDistance" valueSource="variable" value="Lunar Flare Range" />
    <property name="AOERadius" valueSource="variable" value="Lunar Flare AoE Radius" />
    <property name="MinTargets" valueSource="literal" value="2" />
    <property name="OutputTarget" value="Lunar Flare Target Point" />
    <property name="FilterTargetsBehindGate" valueSource="literal" value="true" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="PredictionSeconds" valueSource="variable" value="Lunar Flare Delay" />
  </node>
  <node name="Low" type="And" id="08932EAA626EA699">
    <insertChild id="C9F0EC0C92A85DE0" />
    <insertChild id="DB0DCCE9E77C2BCC" />
  </node>
  <node name="Low Mana" type="EnergyFraction" id="C9F0EC0C92A85DE0">
    <property name="EnergyFraction" valueSource="literal" value="0.3" />
    <property name="Target" valueSource="intrinsic" value="Self" />
  </node>
  <node name="" type="Or" id="DB0DCCE9E77C2BCC">
    <insertChild id="796A943996909818" />
    <insertChild id="E983FE5616B339ED" />
    <insertChild id="24A88B420549C197" />
    <insertChild id="A4E76491EDD10A5F" />
  </node>
  <node name="Low Health Hero" type="FindBestAOEPoint" id="796A943996909818">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.4" />
    <property name="LifeFractionFactor" valueSource="literal" value="3" />
    <property name="MaxTargetDistance" valueSource="variable" value="Lunar Flare Range" />
    <property name="AOERadius" valueSource="variable" value="Lunar Flare AoE Radius" />
    <property name="MinTargets" valueSource="literal" value="1" />
    <property name="OutputTarget" value="Lunar Flare Target Point" />
    <property name="FilterTargetsBehindGate" valueSource="literal" value="true" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="PredictionSeconds" valueSource="variable" value="Lunar Flare Delay" />
  </node>
  <node name="2 Wounded Hero Targets" type="FindBestAOEPoint" id="E983FE5616B339ED">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.7" />
    <property name="LifeFractionFactor" valueSource="literal" value="3" />
    <property name="MaxTargetDistance" valueSource="variable" value="Lunar Flare Range" />
    <property name="AOERadius" valueSource="variable" value="Lunar Flare AoE Radius" />
    <property name="MinTargets" valueSource="literal" value="2" />
    <property name="OutputTarget" value="Lunar Flare Target Point" />
    <property name="FilterTargetsBehindGate" valueSource="literal" value="true" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="PredictionSeconds" valueSource="variable" value="Lunar Flare Delay" />
  </node>
  <node name="Lunar Blaze " type="And" id="24A88B420549C197">
    <insertChild id="B242044D5C5EB1B0" />
    <insertChild id="45F82F136855EF9D" />
    <insertChild id="448379E8CCABF19F" />
  </node>
  <node name="Lunar Blaze" type="UnitHasTalent" id="B242044D5C5EB1B0">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Talent" valueSource="literal" value="TyrandeMasteryLunarBlaze" />
  </node>
  <node name="Not Complete" type="Validator" id="45F82F136855EF9D">
    <property name="Target" valueSource="intrinsic" value="Self" />
    <property name="Validator" valueSource="literal" value="TyrandeLunarFlareLunarBlazeNotComplete" />
  </node>
  <node name="2 Hero Targets" type="FindBestAOEPoint" id="448379E8CCABF19F">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="LifeFractionFactor" valueSource="literal" value="3" />
    <property name="MaxTargetDistance" valueSource="variable" value="Lunar Flare Range" />
    <property name="AOERadius" valueSource="variable" value="Lunar Flare AoE Radius" />
    <property name="MinTargets" valueSource="literal" value="2" />
    <property name="OutputTarget" value="Lunar Flare Target Point" />
    <property name="FilterTargetsBehindGate" valueSource="literal" value="false" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="PredictionSeconds" valueSource="variable" value="Lunar Flare Delay" />
  </node>
  <node name="" type="Or" id="4F0ACABB44D94EBA">
    <insertChild id="7FCBF4A43BBCC93B" />
    <insertChild id="78F516BF8EC8665A" />
  </node>
  <node name="Lunar Blaze" type="UnitHasTalent" id="78F516BF8EC8665A">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Talent" valueSource="literal" value="TyrandeMasteryLunarBlaze" />
    <insertChild id="1F5D56F9C0C7247A" />
  </node>
  <node name="Free Lunar Flare" type="Validator" id="1F5D56F9C0C7247A">
    <property name="Target" valueSource="intrinsic" value="Self" />
    <property name="Validator" valueSource="literal" value="TyrandeLunarFlareLunarBlazeGE10Stacks" />
  </node>
  <node name="Sentinel" type="AbilityUsable" id="D4F164E7E3416BAA">
    <property name="Ability" valueSource="literal" value="TyrandeSentinelShot" />
    <insertChild id="EF7E1242D82AF749" />
  </node>
  <node name="Sentinel" type="And" id="EF7E1242D82AF749">
    <variable name="Sentinel Target Point" type="Point" />
    <variable name="Sentinel Target Future Seconds" type="Number" value="0.3125" />
    <variable name="Sentinel Pierce Count" type="Number" value="1" />
    <variable name="Sentinel Width" type="Number" value="0.625" />
    <variable name="Sentinel Target Unit" type="Unit" />
    <variable name="Sentinel Life Threshold" type="Number" value="1" />
    <insertChild id="811CB8E3977B5A65" />
    <insertChild id="2C1F9FBB1AD8E92D" />
    <insertChild id="4510ADBF0D950B1A" />
    <insertChild id="EC2EF849C5BB90E4" />
  </node>
  <node name="Cast" type="Ability" id="EC2EF849C5BB90E4">
    <property name="Ability" valueSource="literal" value="TyrandeSentinelShot" />
    <property name="TargetPoint" valueSource="variable" value="Sentinel Target Point" />
  </node>
  <node name="Find Hero" type="FindBestTarget" id="F6C1B9DFA1257086">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="PredictionSeconds" valueSource="literal" value="0.3125" />
    <property name="MissilePierceCount" valueSource="variable" value="Sentinel Pierce Count" />
    <property name="MissileRadius" valueSource="variable" value="Sentinel Width" />
    <property name="OutputTarget" value="Sentinel Target Unit" />
    <property name="MaxTargetDistance" valueSource="literal" value="8" />
    <property name="MaxLifeFraction" valueSource="variable" value="Sentinel Life Threshold" />
    <property name="LifeFractionFactor" valueSource="literal" value="3" />
    <property name="TargetBlockingTypes" valueSource="literal" value="Enemy,Heroic" />
    <insertChild id="495DC32E88839B8D" />
  </node>
  <node name="Range Checks" type="Or" id="2C1F9FBB1AD8E92D">
    <insertChild id="F6C1B9DFA1257086" />
    <insertChild id="9282C52FEF2368B2" />
    <insertChild id="BFFB0D73E89BA664" />
    <insertChild id="79268F9336BE58EC" />
    <insertChild id="A5379C82E82E511D" />
    <insertChild id="39AABE066150474D" />
    <insertChild id="0A0A7436DD833B46" />
  </node>
  <node name="Convert to Point" type="UnitPosition" id="495DC32E88839B8D">
    <property name="InputUnit" valueSource="variable" value="Sentinel Target Unit" />
    <property name="OutputPosition" value="Sentinel Target Point" />
    <property name="PredictionSeconds" valueSource="literal" value="0.3125" />
  </node>
  <node name="Find Hero" type="FindBestTarget" id="9282C52FEF2368B2">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="PredictionSeconds" valueSource="literal" value="0.75" />
    <property name="MissilePierceCount" valueSource="variable" value="Sentinel Pierce Count" />
    <property name="MissileRadius" valueSource="variable" value="Sentinel Width" />
    <property name="OutputTarget" value="Sentinel Target Unit" />
    <property name="MinTargetDistance" valueSource="literal" value="8" />
    <property name="MaxTargetDistance" valueSource="literal" value="16" />
    <property name="MaxLifeFraction" valueSource="variable" value="Sentinel Life Threshold" />
    <property name="LifeFractionFactor" valueSource="literal" value="3" />
    <property name="TargetBlockingTypes" valueSource="literal" value="Enemy,Heroic" />
    <insertChild id="CC55B90072D43092" />
  </node>
  <node name="Convert to Point" type="UnitPosition" id="CC55B90072D43092">
    <property name="InputUnit" valueSource="variable" value="Sentinel Target Unit" />
    <property name="OutputPosition" value="Sentinel Target Point" />
    <property name="PredictionSeconds" valueSource="literal" value="0.75" />
  </node>
  <node name="Find Hero" type="FindBestTarget" id="BFFB0D73E89BA664">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="PredictionSeconds" valueSource="literal" value="1.1875" />
    <property name="MissilePierceCount" valueSource="variable" value="Sentinel Pierce Count" />
    <property name="MissileRadius" valueSource="variable" value="Sentinel Width" />
    <property name="OutputTarget" value="Sentinel Target Unit" />
    <property name="MinTargetDistance" valueSource="literal" value="16" />
    <property name="MaxTargetDistance" valueSource="literal" value="24" />
    <property name="MaxLifeFraction" valueSource="variable" value="Sentinel Life Threshold" />
    <property name="LifeFractionFactor" valueSource="literal" value="3" />
    <property name="TargetBlockingTypes" valueSource="literal" value="Enemy,Heroic" />
    <insertChild id="A9FEE63C35F9D33D" />
  </node>
  <node name="Convert to Point" type="UnitPosition" id="A9FEE63C35F9D33D">
    <property name="InputUnit" valueSource="variable" value="Sentinel Target Unit" />
    <property name="OutputPosition" value="Sentinel Target Point" />
    <property name="PredictionSeconds" valueSource="literal" value="1.1875" />
  </node>
  <node name="Find Hero" type="FindBestTarget" id="79268F9336BE58EC">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="PredictionSeconds" valueSource="literal" value="1.625" />
    <property name="MissilePierceCount" valueSource="variable" value="Sentinel Pierce Count" />
    <property name="MissileRadius" valueSource="variable" value="Sentinel Width" />
    <property name="OutputTarget" value="Sentinel Target Unit" />
    <property name="MinTargetDistance" valueSource="literal" value="24" />
    <property name="MaxTargetDistance" valueSource="literal" value="32" />
    <property name="MaxLifeFraction" valueSource="variable" value="Sentinel Life Threshold" />
    <property name="LifeFractionFactor" valueSource="literal" value="3" />
    <property name="TargetBlockingTypes" valueSource="literal" value="Enemy,Heroic" />
    <insertChild id="230EED994AD0F716" />
  </node>
  <node name="Convert to Point" type="UnitPosition" id="230EED994AD0F716">
    <property name="InputUnit" valueSource="variable" value="Sentinel Target Unit" />
    <property name="OutputPosition" value="Sentinel Target Point" />
    <property name="PredictionSeconds" valueSource="literal" value="1.625" />
  </node>
  <node name="Find Hero" type="FindBestTarget" id="A5379C82E82E511D">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="PredictionSeconds" valueSource="literal" value="2.0625" />
    <property name="MissilePierceCount" valueSource="variable" value="Sentinel Pierce Count" />
    <property name="MissileRadius" valueSource="variable" value="Sentinel Width" />
    <property name="OutputTarget" value="Sentinel Target Unit" />
    <property name="MinTargetDistance" valueSource="literal" value="32" />
    <property name="MaxTargetDistance" valueSource="literal" value="40" />
    <property name="MaxLifeFraction" valueSource="variable" value="Sentinel Life Threshold" />
    <property name="LifeFractionFactor" valueSource="literal" value="3" />
    <property name="TargetBlockingTypes" valueSource="literal" value="Enemy,Heroic" />
    <insertChild id="603E9C6D39F4ED38" />
  </node>
  <node name="Convert to Point" type="UnitPosition" id="603E9C6D39F4ED38">
    <property name="InputUnit" valueSource="variable" value="Sentinel Target Unit" />
    <property name="OutputPosition" value="Sentinel Target Point" />
    <property name="PredictionSeconds" valueSource="literal" value="2.0625" />
  </node>
  <node name="Find Hero" type="FindBestTarget" id="39AABE066150474D">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="PredictionSeconds" valueSource="literal" value="2.5" />
    <property name="MissilePierceCount" valueSource="variable" value="Sentinel Pierce Count" />
    <property name="MissileRadius" valueSource="variable" value="Sentinel Width" />
    <property name="OutputTarget" value="Sentinel Target Unit" />
    <property name="MinTargetDistance" valueSource="literal" value="40" />
    <property name="MaxTargetDistance" valueSource="literal" value="48" />
    <property name="MaxLifeFraction" valueSource="variable" value="Sentinel Life Threshold" />
    <property name="LifeFractionFactor" valueSource="literal" value="3" />
    <property name="TargetBlockingTypes" valueSource="literal" value="Enemy,Heroic" />
    <insertChild id="FBF996266AF40F0E" />
  </node>
  <node name="Convert to Point" type="UnitPosition" id="FBF996266AF40F0E">
    <property name="InputUnit" valueSource="variable" value="Sentinel Target Unit" />
    <property name="OutputPosition" value="Sentinel Target Point" />
    <property name="PredictionSeconds" valueSource="literal" value="2.5" />
  </node>
  <node name="Find Hero" type="FindBestTarget" id="0A0A7436DD833B46">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="PredictionSeconds" valueSource="literal" value="2.935" />
    <property name="MissilePierceCount" valueSource="variable" value="Sentinel Pierce Count" />
    <property name="MissileRadius" valueSource="variable" value="Sentinel Width" />
    <property name="OutputTarget" value="Sentinel Target Unit" />
    <property name="MinTargetDistance" valueSource="literal" value="48" />
    <property name="MaxTargetDistance" valueSource="literal" value="56" />
    <property name="MaxLifeFraction" valueSource="variable" value="Sentinel Life Threshold" />
    <property name="LifeFractionFactor" valueSource="literal" value="3" />
    <property name="TargetBlockingTypes" valueSource="literal" value="Enemy,Heroic" />
    <insertChild id="60C262C2F751EA6F" />
  </node>
  <node name="Convert to Point" type="UnitPosition" id="60C262C2F751EA6F">
    <property name="InputUnit" valueSource="variable" value="Sentinel Target Unit" />
    <property name="OutputPosition" value="Sentinel Target Point" />
    <property name="PredictionSeconds" valueSource="literal" value="2.935" />
  </node>
  <node name="Upgrades" type="Sequence" id="811CB8E3977B5A65">
    <property name="IgnoreChildFailures" valueSource="literal" value="true" />
    <insertChild id="795E7BF45D6DDFD7" />
    <insertChild id="6C35E05C8105F1AE" />
    <insertChild id="73B9F7AB1FCC3C5C" />
  </node>
  <node name="Mana Filter" type="Or" id="6C35E05C8105F1AE">
    <insertChild id="68797A5045B96515" />
    <insertChild id="AA914AFB48623FBE" />
    <insertChild id="394D2F9C7F585419" />
    <insertChild id="B3649031A914BE76" />
  </node>
  <node name="Med Mana" type="EnergyFraction" id="B3649031A914BE76">
    <property name="EnergyFraction" valueSource="literal" value="0.7" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <property name="Comparison" valueSource="literal" value="LE" />
    <insertChild id="A12EDAF6CE96003C" />
  </node>
  <node name="Low Mana" type="EnergyFraction" id="394D2F9C7F585419">
    <property name="EnergyFraction" valueSource="literal" value="0.5" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <property name="Comparison" valueSource="literal" value="LE" />
    <insertChild id="AE17A7B57F5EC43B" />
  </node>
  <node name="Critical Mana" type="EnergyFraction" id="AA914AFB48623FBE">
    <property name="EnergyFraction" valueSource="literal" value="0.3" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <property name="Comparison" valueSource="literal" value="LE" />
    <insertChild id="35E65E19F0261FCD" />
  </node>
  <node name="Life Threshold 25%" type="SetNumber" id="BF80B81FDB99E9E0">
    <property name="Variable" value="Sentinel Life Threshold" />
    <property name="Value" valueSource="literal" value="0.25" />
  </node>
  <node name="Sentinel Quest Modification" type="Or" id="35E65E19F0261FCD">
    <insertChild id="AA2295D1CCC04B96" />
    <insertChild id="C286ACF7528479DF" />
    <insertChild id="BF80B81FDB99E9E0" />
  </node>
  <node name="Over 40 Stacks (Costs 20)" type="Validator" id="AA2295D1CCC04B96">
    <property name="Validator" valueSource="literal" value="TyrandeSentinelHas40PierceStacks" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="E70A50963801B8A0" />
  </node>
  <node name="Over 24 Stacks (Costs 40)" type="Validator" id="C286ACF7528479DF">
    <property name="Validator" valueSource="literal" value="TyrandeSentinelHas24PierceStacks" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="46B6941BC0AD4C43" />
  </node>
  <node name="Life Threshold 50%" type="SetNumber" id="46B6941BC0AD4C43">
    <property name="Variable" value="Sentinel Life Threshold" />
    <property name="Value" valueSource="literal" value="0.5" />
  </node>
  <node name="Sentinel Quest Modification" type="Or" id="AE17A7B57F5EC43B">
    <insertChild id="82457AA879506446" />
    <insertChild id="25B10F9F551F15BC" />
  </node>
  <node name="Over 24 Stacks (Costs 40)" type="Validator" id="82457AA879506446">
    <property name="Validator" valueSource="literal" value="TyrandeSentinelHas24PierceStacks" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="3D94B1EECEBF9D52" />
  </node>
  <node name="Life Threshold 50%" type="SetNumber" id="25B10F9F551F15BC">
    <property name="Variable" value="Sentinel Life Threshold" />
    <property name="Value" valueSource="literal" value="0.5" />
  </node>
  <node name="Life Threshold 75%" type="SetNumber" id="E70A50963801B8A0">
    <property name="Variable" value="Sentinel Life Threshold" />
    <property name="Value" valueSource="literal" value="0.75" />
  </node>
  <node name="Life Threshold 75%" type="SetNumber" id="3D94B1EECEBF9D52">
    <property name="Variable" value="Sentinel Life Threshold" />
    <property name="Value" valueSource="literal" value="0.75" />
  </node>
  <node name="Sentinel Quest Modification" type="Or" id="A12EDAF6CE96003C">
    <insertChild id="82468B4FFC12E83C" />
    <insertChild id="3956A19DA280577A" />
  </node>
  <node name="Over 24 Stacks (Costs 40)" type="Validator" id="82468B4FFC12E83C">
    <property name="Validator" valueSource="literal" value="TyrandeSentinelHas24PierceStacks" />
    <property name="Target" valueSource="intrinsic" value="Self" />
  </node>
  <node name="Life Threshold 75%" type="SetNumber" id="3956A19DA280577A">
    <property name="Variable" value="Sentinel Life Threshold" />
    <property name="Value" valueSource="literal" value="0.75" />
  </node>
  <node name="Sentinel Quest Modification" type="Or" id="73B9F7AB1FCC3C5C">
    <insertChild id="81B54A293F19C295" />
    <insertChild id="DA294B99778432E0" />
    <insertChild id="C654E67F2537AA26" />
  </node>
  <node name="Over 40 Stacks" type="Validator" id="DA294B99778432E0">
    <property name="Validator" valueSource="literal" value="TyrandeSentinelHas40PierceStacks" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="06604F520ECEE34F" />
  </node>
  <node name="Over 24 Stacks" type="Validator" id="C654E67F2537AA26">
    <property name="Validator" valueSource="literal" value="TyrandeSentinelHas24PierceStacks" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="6D9E89E7ED011599" />
  </node>
  <node name="Set Pierce Count to 5" type="SetNumber" id="06604F520ECEE34F">
    <property name="Variable" value="Sentinel Pierce Count" />
    <property name="Value" valueSource="literal" value="5" />
  </node>
  <node name="Set Pierce Count to 3" type="SetNumber" id="6D9E89E7ED011599">
    <property name="Variable" value="Sentinel Pierce Count" />
    <property name="Value" valueSource="literal" value="3" />
  </node>
  <node name="Over 56 Stacks (Free)" type="Validator" id="68797A5045B96515">
    <property name="Validator" valueSource="literal" value="TyrandeSentinelHas56PierceStacks" />
    <property name="Target" valueSource="intrinsic" value="Self" />
  </node>
  <node name="Over 56 Stacks" type="Validator" id="81B54A293F19C295">
    <property name="Validator" valueSource="literal" value="TyrandeSentinelHas56PierceStacks" />
    <property name="Target" valueSource="intrinsic" value="Self" />
    <insertChild id="4377F9526A3A50F5" />
  </node>
  <node name="Set Pierce Count to 7" type="SetNumber" id="4377F9526A3A50F5">
    <property name="Variable" value="Sentinel Pierce Count" />
    <property name="Value" valueSource="literal" value="7" />
  </node>
  <node name="Ranger" type="UnitHasTalent" id="795E7BF45D6DDFD7">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Talent" valueSource="literal" value="TyrandeRanger" />
    <insertChild id="C535994C62A50FB1" />
  </node>
  <node name="Increase Width" type="SetNumber" id="C535994C62A50FB1">
    <property name="Variable" value="Sentinel Width" />
    <property name="Value" valueSource="literal" value="0.7812" />
  </node>
  <node name="30%-60% Hero in Attack Range" type="UnitCount" id="2F6736307DABA4D1">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MinLifeFraction" valueSource="literal" value="0.3" />
    <property name="FilterTargetsBehindGate" valueSource="literal" value="true" />
    <property name="BumpMaxDistanceToWeaponRange" valueSource="literal" value="true" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.6" />
    <property name="TargetCount" valueSource="literal" value="1" />
    <insertChild id="D128D54FE003E23B" />
  </node>
  <node name="&gt; 50%" type="LifeFraction" id="C62FF40BE00763EC">
    <property name="LifeFraction" valueSource="literal" value="0.5" />
    <property name="Target" valueSource="intrinsic" value="Self" />
  </node>
  <node name="Cast" type="AbilityEnqueue" id="184FCAF1868486FE">
    <property name="Ability" valueSource="literal" value="TyrandeTrueshotAura" />
  </node>
  <node name="Trueshot Aura" type="AbilityUsable" id="16E2AAB652AA3860">
    <property name="Ability" valueSource="literal" value="TyrandeTrueshotAura" />
    <insertChild id="B8005BECDEAB2C35" />
  </node>
  <node name="Trueshot Aura" type="And" id="B8005BECDEAB2C35">
    <variable name="Trueshot Aura Radius" type="Number" valueSource="lookup" value="Effect,TrueshotBowAuraSearch,AreaArray[0].Radius" />
    <insertChild id="C62FF40BE00763EC" />
    <insertChild id="8013C01AB800BC6E" />
    <insertChild id="184FCAF1868486FE" />
  </node>
  <node name="Combat Check" type="Or" id="8013C01AB800BC6E">
    <insertChild id="2F6736307DABA4D1" />
    <insertChild id="F6AA0FF8C5996079" />
    <insertChild id="EF133C37FF027541" />
    <insertChild id="532503BDFB273529" />
    <insertChild id="522E579E89EDADEC" />
  </node>
  <node name="60%+ Hero Nearby" type="UnitCount" id="F6AA0FF8C5996079">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MinLifeFraction" valueSource="literal" value="0.6" />
    <property name="FilterTargetsBehindGate" valueSource="literal" value="true" />
    <property name="TargetCount" valueSource="literal" value="1" />
    <property name="MaxTargetDistance" valueSource="literal" value="8" />
    <insertChild id="6CC3A967F43340E4" />
  </node>
  <node name="1+ Ally Hero in Range" type="UnitCount" id="6CC3A967F43340E4">
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="MinLifeFraction" valueSource="literal" value="0.5" />
    <property name="TargetCount" valueSource="literal" value="1" />
    <property name="MaxTargetDistance" valueSource="variable" value="Trueshot Aura Radius" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <insertChild id="5D7E90572EEA55D4" />
  </node>
  <node name="1+ Tower Nearby" type="UnitCount" id="532503BDFB273529">
    <property name="TargetTypes" valueSource="literal" value="Tower" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MinLifeFraction" valueSource="literal" value="0.5" />
    <property name="TargetCount" valueSource="literal" value="1" />
    <property name="MaxTargetDistance" valueSource="literal" value="8" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.99" />
    <insertChild id="9D1A0BBA3BBEBE90" />
  </node>
  <node name="2+ Ally Heroes in Range" type="UnitCount" id="9D1A0BBA3BBEBE90">
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="MinLifeFraction" valueSource="literal" value="0.5" />
    <property name="TargetCount" valueSource="literal" value="2" />
    <property name="MaxTargetDistance" valueSource="variable" value="Trueshot Aura Radius" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
  </node>
  <node name="1+ Merc or Map Creature Nearby" type="UnitCount" id="522E579E89EDADEC">
    <property name="MinLifeFraction" valueSource="literal" value="0.5" />
    <property name="TargetCount" valueSource="literal" value="1" />
    <property name="MaxTargetDistance" valueSource="literal" value="8" />
    <property name="TargetTypes" valueSource="literal" value="Creep,MapCreature" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.99" />
    <insertChild id="84B60398C7AB0A63" />
  </node>
  <node name="2+ Ally Heroes in Range" type="UnitCount" id="84B60398C7AB0A63">
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="MinLifeFraction" valueSource="literal" value="0.5" />
    <property name="TargetCount" valueSource="literal" value="2" />
    <property name="MaxTargetDistance" valueSource="variable" value="Trueshot Aura Radius" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
  </node>
  <node name="Elune's Chosen" type="AbilityUsable" id="BCC1DDAE2DCE8337">
    <property name="Ability" valueSource="literal" value="TyrandeElunesChosen" />
    <insertChild id="3B1B00AACF3447C7" />
  </node>
  <node name="Elune's Chosen" type="And" id="3B1B00AACF3447C7">
    <variable name="Elune's Chosen Range" type="Number" valueSource="lookup" value="Abil,TyrandeElunesChosen,Range" />
    <variable name="Elune's Chosen Target Unit" type="Unit" />
    <insertChild id="E69B5E72178F922A" />
    <insertChild id="B88C06B7A8871E82" />
    <insertChild id="9A5EDA260DD440EF" />
    <insertChild id="F2DBAF6840D9C99D" />
  </node>
  <node name="Cast" type="AbilityEnqueue" id="F2DBAF6840D9C99D">
    <property name="Ability" valueSource="literal" value="TyrandeElunesChosen" />
    <property name="TargetUnit" valueSource="variable" value="Elune's Chosen Target Unit" />
  </node>
  <node name="&lt; 50% Ally" type="FindBestTarget" id="B88C06B7A8871E82">
    <property name="MaxLifeFraction" valueSource="literal" value="0.5" />
    <property name="LifeFractionFactor" valueSource="literal" value="3" />
    <property name="OutputTarget" value="Elune's Chosen Target Unit" />
    <property name="MaxTargetDistance" valueSource="variable" value="Elune's Chosen Range" />
    <property name="TargetTypes" valueSource="literal" value="Ally" />
    <property name="RequiredTypes" valueSource="literal" value="Heroic" />
    <property name="ExcludeTypes" valueSource="literal" value="Missile,Stasis,Dead,Hallucination,Benign" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
  </node>
  <node name="2+ Heroes Nearby" type="UnitCount" id="EF133C37FF027541">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="FilterTargetsBehindGate" valueSource="literal" value="true" />
    <property name="TargetCount" valueSource="literal" value="2" />
    <property name="MaxTargetDistance" valueSource="literal" value="8" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.99" />
    <insertChild id="7543FD7FB391B8E1" />
  </node>
  <node name="2+ Ally Heroes in Range" type="UnitCount" id="7543FD7FB391B8E1">
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="MinLifeFraction" valueSource="literal" value="0.5" />
    <property name="TargetCount" valueSource="literal" value="2" />
    <property name="MaxTargetDistance" valueSource="variable" value="Trueshot Aura Radius" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
  </node>
  <node name="Combat Check" type="Or" id="9A5EDA260DD440EF">
    <insertChild id="F76B1C523C17319A" />
    <insertChild id="A3CD754987A3E328" />
    <insertChild id="BAC93642E78A1196" />
    <insertChild id="DFDFC61735A7534D" />
    <insertChild id="928C6E9794010117" />
  </node>
  <node name="Enemy Hero in Attack Range" type="UnitCount" id="F76B1C523C17319A">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="FilterTargetsBehindGate" valueSource="literal" value="true" />
    <property name="BumpMaxDistanceToWeaponRange" valueSource="literal" value="true" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="TargetCount" valueSource="literal" value="1" />
  </node>
  <node name="1+ Structure Nearby" type="UnitCount" id="A3CD754987A3E328">
    <property name="TargetTypes" valueSource="literal" value="AITargetableStructure" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MinLifeFraction" valueSource="literal" value="0.5" />
    <property name="TargetCount" valueSource="literal" value="1" />
    <property name="MaxTargetDistance" valueSource="literal" value="8" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.99" />
  </node>
  <node name="1+ Merc or Map Boss Nearby" type="UnitCount" id="BAC93642E78A1196">
    <property name="MinLifeFraction" valueSource="literal" value="0.25" />
    <property name="TargetCount" valueSource="literal" value="1" />
    <property name="MaxTargetDistance" valueSource="literal" value="8" />
    <property name="TargetTypes" valueSource="literal" value="Creep,MapBoss" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
  </node>
  <node name="3+ Minions Nearby" type="UnitCount" id="928C6E9794010117">
    <property name="MinLifeFraction" valueSource="literal" value="0.25" />
    <property name="TargetCount" valueSource="literal" value="3" />
    <property name="MaxTargetDistance" valueSource="literal" value="8" />
    <property name="TargetTypes" valueSource="literal" value="Minion" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
  </node>
  <node name="Hunter's Mark" type="AbilityUsable" id="B1AB98E089719292">
    <property name="Ability" valueSource="literal" value="TyrandeHuntersMark" />
    <insertChild id="01B6A815A081E78E" />
  </node>
  <node name="Hunter's Mark" type="And" id="01B6A815A081E78E">
    <variable name="Hunter's Mark Target Unit" type="Unit" />
    <variable name="Hunter's Mark Range" type="Number" valueSource="lookup" value="Abil,TyrandeHuntersMark,Range" />
    <insertChild id="88E542F39159EE7F" />
    <insertChild id="32C603A622112283" />
    <insertChild id="F3C28C39C17EBA83" />
  </node>
  <node name="Cast" type="AbilityEnqueue" id="F3C28C39C17EBA83">
    <property name="Ability" valueSource="literal" value="TyrandeHuntersMark" />
    <property name="TargetUnit" valueSource="variable" value="Hunter's Mark Target Unit" />
  </node>
  <node name="&gt; 50%" type="LifeFraction" id="E69B5E72178F922A">
    <property name="LifeFraction" valueSource="literal" value="0.5" />
    <property name="Target" valueSource="intrinsic" value="Self" />
  </node>
  <node name="&gt; 50%" type="LifeFraction" id="88E542F39159EE7F">
    <property name="LifeFraction" valueSource="literal" value="0.5" />
    <property name="Target" valueSource="intrinsic" value="Self" />
  </node>
  <node name="Combat Check" type="Or" id="32C603A622112283">
    <insertChild id="CB83DC0D236F739F" />
    <insertChild id="3EAE3BCE19C3CC4F" />
  </node>
  <node name="No Enemy Heroes Nearby" type="UnitCount" id="3EAE3BCE19C3CC4F">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="FilterTargetsBehindGate" valueSource="literal" value="true" />
    <property name="Comparison" valueSource="literal" value="Eq" />
    <property name="MaxTargetDistance" valueSource="literal" value="10" />
    <insertChild id="A47874EE3071EDC2" />
  </node>
  <node name="40%+ Enemy Hero in Attack Range" type="FindBestTarget" id="CB83DC0D236F739F">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="FilterTargetsBehindGate" valueSource="literal" value="true" />
    <property name="BumpMaxDistanceToWeaponRange" valueSource="literal" value="true" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="OutputTarget" value="Hunter's Mark Target Unit" />
    <property name="MinLifeFraction" valueSource="literal" value="0.4" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.99" />
  </node>
  <node name="1+ Merc or Map Boss Nearby" type="FindBestTarget" id="A47874EE3071EDC2">
    <property name="TargetTypes" valueSource="literal" value="Creep,MapBoss" />
    <property name="OutputTarget" value="Hunter's Mark Target Unit" />
    <property name="MinLifeFraction" valueSource="literal" value="0.25" />
    <property name="MaxTargetDistance" valueSource="variable" value="Hunter's Mark Range" />
    <property name="LifeFractionFactor" valueSource="literal" value="-3" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
  </node>
  <node name="High" type="And" id="0CE7384A0C174615">
    <insertChild id="AFB2D05E2BAA8930" />
    <insertChild id="A0B5BA0F8908A455" />
  </node>
  <node name="High Mana" type="EnergyFraction" id="AFB2D05E2BAA8930">
    <property name="EnergyFraction" valueSource="literal" value="0.7" />
    <property name="Target" valueSource="intrinsic" value="Self" />
  </node>
  <node name="Ally under 80%" type="FindBestTarget" id="A0B5BA0F8908A455">
    <property name="LifeFractionFactor" valueSource="literal" value="3" />
    <property name="OutputTarget" value="Light of Elune Target Unit" />
    <property name="MaxTargetDistance" valueSource="variable" value="Light of Elune Range" />
    <property name="TargetTypes" valueSource="literal" value="Self,Player,Ally" />
    <property name="RequiredTypes" valueSource="literal" value="Heroic" />
    <property name="ExcludeTypes" valueSource="literal" value="Missile,Stasis,Dead,Hallucination,Benign" />
    <property name="DistanceFactor" valueSource="literal" value="0" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.8" />
  </node>
  <node name="Shadowstalk" type="AbilityUsable" id="361B6F64D0FE22FC">
    <property name="Ability" valueSource="literal" value="TyrandeShadowstalk" />
    <insertChild id="BAFAF996D2EBC6CB" />
  </node>
  <node name="Shadowstalk Defensive" type="And" id="BAFAF996D2EBC6CB">
    <insertChild id="ACC90AEAF4ECD891" />
    <insertChild id="BED38AA3CF86186E" />
    <insertChild id="BD6644D656982474" />
    <insertChild id="42ADE68B96D40987" />
  </node>
  <node name="Cast" type="AbilityEnqueue" id="42ADE68B96D40987">
    <property name="Ability" valueSource="literal" value="TyrandeShadowstalk" />
  </node>
  <node name="1+ Enemy Heroes Around" type="UnitCount" id="BED38AA3CF86186E">
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="MaxTargetDistance" valueSource="literal" value="10" />
    <property name="MinLifeFraction" valueSource="literal" value="0.5" />
    <property name="TargetCount" valueSource="literal" value="1" />
  </node>
  <node name="Critical Health" type="LifeFraction" id="ACC90AEAF4ECD891">
    <property name="LifeFraction" valueSource="variable" value="Health_ReturnToSpawn" />
    <property name="Comparison" valueSource="literal" value="LE" />
    <property name="Target" valueSource="intrinsic" value="Self" />
  </node>
  <node name="LT 3 Enemy Heroes Nearby" type="UnitCount" id="D128D54FE003E23B">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="FilterTargetsBehindGate" valueSource="literal" value="true" />
    <property name="TargetCount" valueSource="literal" value="3" />
    <property name="MaxTargetDistance" valueSource="literal" value="8" />
    <property name="Comparison" valueSource="literal" value="LT" />
  </node>
  <node name="Shadowstalk" type="AbilityUsable" id="D0F810F8565A6A87">
    <property name="Ability" valueSource="literal" value="TyrandeShadowstalk" />
    <insertChild id="0BA23B0C9104E5B1" />
  </node>
  <node name="Shadowstalk Offensive" type="And" id="0BA23B0C9104E5B1">
    <insertChild id="23E3749224E244F5" />
    <insertChild id="5F7D708D8BA10EA0" />
    <insertChild id="CA09C435F2A76A1C" />
    <insertChild id="2670BB84952D42A4" />
  </node>
  <node name="Cast" type="AbilityEnqueue" id="2670BB84952D42A4">
    <property name="Ability" valueSource="literal" value="TyrandeShadowstalk" />
  </node>
  <node name="&gt; 75%" type="LifeFraction" id="23E3749224E244F5">
    <property name="LifeFraction" valueSource="literal" value="0.75" />
    <property name="Target" valueSource="intrinsic" value="Self" />
  </node>
  <node name="Combat Check" type="Or" id="5F7D708D8BA10EA0">
    <insertChild id="83EE2BA2F2013D09" />
    <insertChild id="0E1B3D674168CABA" />
  </node>
  <node name="30%-60% Hero Nearby" type="UnitCount" id="83EE2BA2F2013D09">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MinLifeFraction" valueSource="literal" value="0.3" />
    <property name="FilterTargetsBehindGate" valueSource="literal" value="true" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.6" />
    <property name="TargetCount" valueSource="literal" value="1" />
    <property name="MaxTargetDistance" valueSource="literal" value="8" />
  </node>
  <node name="60%+ Hero Nearby" type="UnitCount" id="0E1B3D674168CABA">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MinLifeFraction" valueSource="literal" value="0.6" />
    <property name="FilterTargetsBehindGate" valueSource="literal" value="true" />
    <property name="TargetCount" valueSource="literal" value="1" />
    <property name="MaxTargetDistance" valueSource="literal" value="8" />
    <insertChild id="89AD2DB88DB18719" />
  </node>
  <node name="1+ Ally Hero Nearby" type="UnitCount" id="89AD2DB88DB18719">
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="MinLifeFraction" valueSource="literal" value="0.5" />
    <property name="TargetCount" valueSource="literal" value="1" />
    <property name="MaxTargetDistance" valueSource="literal" value="8" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
  </node>
  <node name="LT 3 Enemy Heroes Nearby" type="UnitCount" id="CA09C435F2A76A1C">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="FilterTargetsBehindGate" valueSource="literal" value="true" />
    <property name="TargetCount" valueSource="literal" value="3" />
    <property name="MaxTargetDistance" valueSource="literal" value="8" />
    <property name="Comparison" valueSource="literal" value="LT" />
  </node>
  <node name="LT 3 Enemy Heroes Nearby" type="UnitCount" id="5D7E90572EEA55D4">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="FilterTargetsBehindGate" valueSource="literal" value="true" />
    <property name="TargetCount" valueSource="literal" value="3" />
    <property name="MaxTargetDistance" valueSource="literal" value="8" />
    <property name="Comparison" valueSource="literal" value="LT" />
  </node>
  <node name="Starfall" type="AbilityUsable" id="485ED6CB9F1361CA">
    <property name="Ability" valueSource="literal" value="TyrandeStarfall" />
    <insertChild id="5BEB0B070985CC93" />
  </node>
  <node name="Starfall" type="And" id="5BEB0B070985CC93">
    <variable name="Starfall Target Point" type="Point" />
    <variable name="Starfall Radius" type="Number" valueSource="lookup" value="Effect,StarfallSearch,AreaArray[0].Radius" />
    <variable name="Starfall Range" type="Number" valueSource="lookup" value="Abil,TyrandeStarfall,Range" />
    <insertChild id="F8497E0C5276ED4E" />
    <insertChild id="F28B2A1342FAE210" />
    <insertChild id="9C858EBB15E0FE66" />
  </node>
  <node name="Cast" type="Ability" id="9C858EBB15E0FE66">
    <property name="Ability" valueSource="literal" value="TyrandeStarfall" />
    <property name="TargetPoint" valueSource="variable" value="Starfall Target Point" />
  </node>
  <node name="Mana Filter" type="Or" id="F28B2A1342FAE210">
    <insertChild id="906FCE59EB732572" />
    <insertChild id="A0C35C2A5D733787" />
  </node>
  <node name="Healthy Team Fight Check" type="And" id="906FCE59EB732572">
    <insertChild id="8BFDCD4DDEC80B02" />
    <insertChild id="A6396D79AB37D5DB" />
  </node>
  <node name="Low Mana" type="EnergyFraction" id="F8497E0C5276ED4E">
    <property name="EnergyFraction" valueSource="literal" value="0.3" />
    <property name="Target" valueSource="intrinsic" value="Self" />
  </node>
  <node name="2+ Enemy Heroes" type="FindBestAOEPoint" id="8BFDCD4DDEC80B02">
    <property name="OutputTarget" value="Starfall Target Point" />
    <property name="MaxTargetDistance" valueSource="variable" value="Starfall Range" />
    <property name="MinTargets" valueSource="literal" value="2" />
    <property name="AOERadius" valueSource="variable" value="Starfall Radius" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
  </node>
  <node name="2+ Allies Nearby" type="UnitCount" id="A6396D79AB37D5DB">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="SearchCenter" valueSource="variable" value="Starfall Target Point" />
    <property name="MaxTargetDistance" valueSource="literal" value="8" />
    <property name="MinLifeFraction" valueSource="literal" value="0.5" />
    <property name="TargetCount" valueSource="literal" value="2" />
  </node>
  <node name="2+ Injured Enemy Heroes" type="FindBestAOEPoint" id="27DFEDD11AEEA8A5">
    <property name="OutputTarget" value="Starfall Target Point" />
    <property name="MaxTargetDistance" valueSource="variable" value="Starfall Range" />
    <property name="MinTargets" valueSource="literal" value="2" />
    <property name="AOERadius" valueSource="variable" value="Starfall Radius" />
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MaxLifeFraction" valueSource="literal" value="0.75" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
  </node>
  <node name="1+ Allies Nearby" type="UnitCount" id="317CB345A853A40A">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Ally" />
    <property name="MaxTargetDistance" valueSource="literal" value="8" />
    <property name="MinLifeFraction" valueSource="literal" value="0.5" />
    <property name="TargetCount" valueSource="literal" value="1" />
    <property name="SearchCenter" valueSource="variable" value="Starfall Target Point" />
  </node>
  <node name="Wounded Team Fight Check" type="And" id="A0C35C2A5D733787">
    <insertChild id="27DFEDD11AEEA8A5" />
    <insertChild id="317CB345A853A40A" />
  </node>
  <node name="Travel Check" type="Or" id="4510ADBF0D950B1A">
    <insertChild id="B27986D1F1AC1363" />
    <insertChild id="C8704A52733CD87B" />
  </node>
  <node name="" type="Not" id="B27986D1F1AC1363">
    <insertChild id="C53D7479AADA539A" />
  </node>
  <node name="Mounted" type="UnitHasBehavior" id="C53D7479AADA539A">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Behavior" valueSource="literal" value="Mounted" />
  </node>
  <node name="Target &lt; 25%" type="LifeFraction" id="C8704A52733CD87B">
    <property name="Target" valueSource="variable" value="Sentinel Target Unit" />
    <property name="Comparison" valueSource="literal" value="LE" />
    <property name="LifeFraction" valueSource="literal" value="0.25" />
  </node>
  <node name="" type="Not" id="BD6644D656982474">
    <insertChild id="31AB123E40CD644C" />
  </node>
  <node name="Mounted" type="UnitHasBehavior" id="31AB123E40CD644C">
    <property name="Unit" valueSource="intrinsic" value="Self" />
    <property name="Behavior" valueSource="literal" value="Mounted" />
  </node>
  <node name="3+ Map Creatures Nearby" type="UnitCount" id="DFDFC61735A7534D">
    <property name="MinLifeFraction" valueSource="literal" value="0.25" />
    <property name="TargetCount" valueSource="literal" value="3" />
    <property name="MaxTargetDistance" valueSource="literal" value="8" />
    <property name="TargetTypes" valueSource="literal" value="MapCreature" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
  </node>
  <node name="2 Wounded Hero Targets" type="FindBestAOEPoint" id="5378EA6AC17BE158">
    <property name="TargetTypes" valueSource="literal" value="Creep" />
    <property name="LifeFractionFactor" valueSource="literal" value="3" />
    <property name="MaxTargetDistance" valueSource="variable" value="Lunar Flare Range" />
    <property name="AOERadius" valueSource="variable" value="Lunar Flare AoE Radius" />
    <property name="MinTargets" valueSource="literal" value="2" />
    <property name="OutputTarget" value="Lunar Flare Target Point" />
    <property name="FilterTargetsBehindGate" valueSource="literal" value="true" />
    <property name="AddUnitRadiusToMaxTargetDistance" valueSource="intrinsic" value="Self" />
    <property name="PredictionSeconds" valueSource="variable" value="Lunar Flare Delay" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
  </node>
  <node name="No Hero Nearby" type="UnitCount" id="A4E76491EDD10A5F">
    <property name="TargetTypes" valueSource="literal" value="Heroic" />
    <property name="RequiredTypes" valueSource="literal" value="Enemy" />
    <property name="MaxTargetDistance" valueSource="literal" value="10" />
    <property name="Comparison" valueSource="literal" value="Eq" />
    <insertChild id="5378EA6AC17BE158" />
  </node>
  <node name="Target Within Range" type="Distance" id="28CE67D08931A420">
    <property name="SourceUnit" valueSource="intrinsic" value="Self" />
    <property name="TargetPoint" valueSource="variable" value="Lunar Flare Target Point" />
    <property name="Distance" valueSource="variable" value="Lunar Flare Range" />
    <property name="Comparison" valueSource="literal" value="LE" />
  </node>
</tree>